<lib_search>
    <layer>
        <name>ctrl</name>
        <features>
            <feature>pxxx</feature>
            <feature>xcxx</feature>
            <feature>xxbx</feature>
            <feature>xxxo</feature>
            <feature>pcxx</feature>
            <feature>pxxo</feature>
            <feature>xcbx</feature>
            <feature>xxbo</feature>
            <feature>ext_adv</feature>
            <feature>ext_scan</feature>
        </features>
        <regex>
            <sub>
                <search>-DV4\d_FEATURES=</search>
                <replace/>
            </sub>
            <sub>
                <search>-DHOST_CONFIG=</search>
                <replace/>
            </sub>
            <sub>
                <search>V41_CTRL_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>PRIVACY_1_2_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>EXT_DATA_LEN_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>SECURE_CONNS_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>(?&lt;!\+)PERIPHERAL_CFG(?!\+)</search>
                <replace>pxxx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)CENTRAL_CFG(?!\+)</search>
                <replace>xcxx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)BROADCASTER_CFG(?!\+)</search>
                <replace>xxbx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)OBSERVER_CFG(?!\+)</search>
                <replace>xxxo</replace>
            </sub>
            <sub>
                <search>PERIPHERAL_CFG\+OBSERVER_CFG</search>
                <replace>pxxo</replace>
            </sub>
            <sub>
                <search>CENTRAL_CFG\+BROADCASTER_CFG</search>
                <replace>xcbx</replace>
            </sub>
            <sub>
                <search>PERIPHERAL_CFG\+CENTRAL_CFG</search>
                <replace>pcxx</replace>
            </sub>
            <sub>
                <search>-DEXTRA_SCAN_FEAT=SCAN_EVT_NOTICE_CFG</search>
                <replace>ext_scan</replace>
            </sub>
            <sub>
                <search>-DEXTRA_ADV_FEAT=SCAN_REQ_RPT_CFG</search>
                <replace>ext_adv</replace>
            </sub>
        </regex>
    </layer>
    <layer>
        <name>hci_tl</name>
        <features>
            <feature>full</feature>
            <feature>none</feature>
            <feature>ptm</feature>
            <feature>ext_adv</feature>
            <feature>ext_scan</feature>
        </features>
        <regex>
            <sub>
                <search>-DHCI_TL_FULL</search>
                <replace>full</replace>
            </sub>
            <sub>
                <search>-DHCI_TL_NONE</search>
                <replace>none</replace>
            </sub>
            <sub>
                <search>-DHCI_TL_PTM</search>
                <replace>ptm</replace>
            </sub>
            <sub>
                <search>-DEXTRA_SCAN_FEAT=SCAN_EVT_NOTICE_CFG</search>
                <replace>ext_scan</replace>
            </sub>
            <sub>
                <search>-DEXTRA_ADV_FEAT=SCAN_REQ_RPT_CFG</search>
                <replace>ext_adv</replace>
            </sub>
        </regex>
    </layer>
    <layer>
        <name>host</name>
        <features>
            <feature>pxxx</feature>
            <feature>xcxx</feature>
            <feature>xxbx</feature>
            <feature>xxxo</feature>
            <feature>pcxx</feature>
            <feature>pxxo</feature>
            <feature>xcbx</feature>
            <feature>xxbo</feature>
            <feature>coc</feature>
            <feature>del</feature>
        </features>
        <regex>
            <sub>
                <search>-DV4\d_FEATURES=</search>
                <replace/>
            </sub>
            <sub>
                <search>-DHOST_CONFIG=</search>
                <replace/>
            </sub>
            <sub>
                <search>(?&lt;!\+)PERIPHERAL_CFG(?!\+)</search>
                <replace>pxxx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)CENTRAL_CFG(?!\+)</search>
                <replace>xcxx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)BROADCASTER_CFG(?!\+)</search>
                <replace>xxbx</replace>
            </sub>
            <sub>
                <search>(?&lt;!\+)OBSERVER_CFG(?!\+)</search>
                <replace>xxxo</replace>
            </sub>
            <sub>
                <search>PERIPHERAL_CFG\+OBSERVER_CFG</search>
                <replace>pxxo</replace>
            </sub>
            <sub>
                <search>CENTRAL_CFG\+BROADCASTER_CFG</search>
                <replace>xcbx</replace>
            </sub>
            <sub>
                <search>PERIPHERAL_CFG\+CENTRAL_CFG</search>
                <replace>pcxx</replace>
            </sub>
            <sub>
                <search>V41_CTRL_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>PRIVACY_1_2_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>EXT_DATA_LEN_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>SECURE_CONNS_CFG</search>
                <replace/>
            </sub>
            <sub>
                <search>L2CAP_COC_CFG</search>
                <replace>coc</replace>
            </sub>
            <sub>
                <search>-DATT_DELAYED_REQ</search>
                <replace>del</replace>
            </sub>
        </regex>
    </layer>
    <regex>
        <sub>
            <search>\+</search>
            <replace/>
        </sub>
        <sub>
            <search>\n+</search>
            <replace>\n</replace>
        </sub>
    </regex>
</lib_search>
