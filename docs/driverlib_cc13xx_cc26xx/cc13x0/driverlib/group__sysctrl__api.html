<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CC13xx Driver Library: [sys_ctrl] System Controller</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC13xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>APIs</span></a></li>
      <li><a href="usergroup0.html"><span>Register&#160;Descriptions</span></a></li>
      <li><a href="usergroup1.html"><span>Online&#160;Resources</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sysctrl__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">[sys_ctrl] System Controller<div class="ingroups"><a class="el" href="group__system__control__group.html">System Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae77a51be47ac7fc8833e16e1d8dcd69d"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gae77a51be47ac7fc8833e16e1d8dcd69d">SysCtrlClockGet</a> (void)</td></tr>
<tr class="memdesc:gae77a51be47ac7fc8833e16e1d8dcd69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the CPU core clock frequency.  <a href="#gae77a51be47ac7fc8833e16e1d8dcd69d">More...</a><br /></td></tr>
<tr class="separator:gae77a51be47ac7fc8833e16e1d8dcd69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d9c005051b674f9f254747c1705e3dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync</a> (void)</td></tr>
<tr class="memdesc:ga1d9c005051b674f9f254747c1705e3dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync all accesses to the AON register interface.  <a href="#ga1d9c005051b674f9f254747c1705e3dc">More...</a><br /></td></tr>
<tr class="separator:ga1d9c005051b674f9f254747c1705e3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab16ca6c04c85be0a1594779cd6d2dff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gaab16ca6c04c85be0a1594779cd6d2dff">SysCtrlAonUpdate</a> (void)</td></tr>
<tr class="memdesc:gaab16ca6c04c85be0a1594779cd6d2dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all interfaces to AON.  <a href="#gaab16ca6c04c85be0a1594779cd6d2dff">More...</a><br /></td></tr>
<tr class="separator:gaab16ca6c04c85be0a1594779cd6d2dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada20572ff04f08697bfaac24cb3d8ca3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gada20572ff04f08697bfaac24cb3d8ca3">SysCtrlSetRechargeBeforePowerDown</a> (uint32_t xoscPowerMode)</td></tr>
<tr class="memdesc:gada20572ff04f08697bfaac24cb3d8ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Recharge values before entering Power Down.  <a href="#gada20572ff04f08697bfaac24cb3d8ca3">More...</a><br /></td></tr>
<tr class="separator:gada20572ff04f08697bfaac24cb3d8ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2429bf1aa1d3502c6fd999f9fa929661"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga2429bf1aa1d3502c6fd999f9fa929661">SysCtrlAdjustRechargeAfterPowerDown</a> (void)</td></tr>
<tr class="memdesc:ga2429bf1aa1d3502c6fd999f9fa929661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust Recharge calculations to be used next.  <a href="#ga2429bf1aa1d3502c6fd999f9fa929661">More...</a><br /></td></tr>
<tr class="separator:ga2429bf1aa1d3502c6fd999f9fa929661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2fd0c9f80ddc1c52d19e3e947296bea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gae2fd0c9f80ddc1c52d19e3e947296bea">SysCtrl_DCDC_VoltageConditionalControl</a> (void)</td></tr>
<tr class="memdesc:gae2fd0c9f80ddc1c52d19e3e947296bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns DCDC on or off depending of what is considered to be optimal usage.  <a href="#gae2fd0c9f80ddc1c52d19e3e947296bea">More...</a><br /></td></tr>
<tr class="separator:gae2fd0c9f80ddc1c52d19e3e947296bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f5b01e47c54408834611c9c2d7dc72f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga3f5b01e47c54408834611c9c2d7dc72f">SysCtrlResetSourceGet</a> (void)</td></tr>
<tr class="memdesc:ga3f5b01e47c54408834611c9c2d7dc72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns last reset source (including "wakeup from shutdown").  <a href="#ga3f5b01e47c54408834611c9c2d7dc72f">More...</a><br /></td></tr>
<tr class="separator:ga3f5b01e47c54408834611c9c2d7dc72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cdc403defa620735aa9c26364c138f8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga4cdc403defa620735aa9c26364c138f8">SysCtrlSystemReset</a> (void)</td></tr>
<tr class="memdesc:ga4cdc403defa620735aa9c26364c138f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a full system reset.  <a href="#ga4cdc403defa620735aa9c26364c138f8">More...</a><br /></td></tr>
<tr class="separator:ga4cdc403defa620735aa9c26364c138f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fa15bd8d1e522e5cd3585bd7360d0d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga6fa15bd8d1e522e5cd3585bd7360d0d0">SysCtrlClockLossResetEnable</a> (void)</td></tr>
<tr class="memdesc:ga6fa15bd8d1e522e5cd3585bd7360d0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables reset if OSC clock loss event is asserted.  <a href="#ga6fa15bd8d1e522e5cd3585bd7360d0d0">More...</a><br /></td></tr>
<tr class="separator:ga6fa15bd8d1e522e5cd3585bd7360d0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad73856695618362443e715b6b0b79447"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gad73856695618362443e715b6b0b79447">SysCtrlClockLossResetDisable</a> (void)</td></tr>
<tr class="memdesc:gad73856695618362443e715b6b0b79447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables reset due to OSC clock loss event.  <a href="#gad73856695618362443e715b6b0b79447">More...</a><br /></td></tr>
<tr class="separator:gad73856695618362443e715b6b0b79447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad90471e7a4a7ab8edb78332d02fa90d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gad90471e7a4a7ab8edb78332d02fa90d5">RSTSRC_PWR_ON</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_PWR_ON</a>    ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gad90471e7a4a7ab8edb78332d02fa90d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa708e37d5fa9cc53d4cb1aa614917e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gaaa708e37d5fa9cc53d4cb1aa614917e6">RSTSRC_PIN_RESET</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_PIN_RESET</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gaaa708e37d5fa9cc53d4cb1aa614917e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6ca1f42473498efd184735fa5baea7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gae6ca1f42473498efd184735fa5baea7b">RSTSRC_VDDS_LOSS</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDDS_LOSS</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gae6ca1f42473498efd184735fa5baea7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6203b6693b8fe7da9748814704627aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gad6203b6693b8fe7da9748814704627aa">RSTSRC_VDD_LOSS</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDD_LOSS</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gad6203b6693b8fe7da9748814704627aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf7a66fdaad476e137a9a3ac407b8a68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gadf7a66fdaad476e137a9a3ac407b8a68">RSTSRC_VDDR_LOSS</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDDR_LOSS</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gadf7a66fdaad476e137a9a3ac407b8a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97fc9598e4f8c7e24f7beb36e65d086c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga97fc9598e4f8c7e24f7beb36e65d086c">RSTSRC_CLK_LOSS</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_CLK_LOSS</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:ga97fc9598e4f8c7e24f7beb36e65d086c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53ce2b9f28b9c88b8aaeeba874be58fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga53ce2b9f28b9c88b8aaeeba874be58fe">RSTSRC_SYSRESET</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_SYSRESET</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:ga53ce2b9f28b9c88b8aaeeba874be58fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab80e4b8ddbfd2cc3b4f976acd3e8d210"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#gab80e4b8ddbfd2cc3b4f976acd3e8d210">RSTSRC_WARMRESET</a>&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_WARMRESET</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td></tr>
<tr class="separator:gab80e4b8ddbfd2cc3b4f976acd3e8d210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4615975dd3b4e0a15224c6caaa135901"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sysctrl__api.html#ga4615975dd3b4e0a15224c6caaa135901">RSTSRC_WAKEUP_FROM_SHUTDOWN</a>&#160;&#160;&#160;((( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_M</a>        ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> )) + 1 )</td></tr>
<tr class="separator:ga4615975dd3b4e0a15224c6caaa135901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae2fd0c9f80ddc1c52d19e3e947296bea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysCtrl_DCDC_VoltageConditionalControl </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns DCDC on or off depending of what is considered to be optimal usage. </p>
<p>This function controls the DCDC only if both the following CCFG settings are <code>true:</code> </p><ul>
<li>DCDC is configured to be used.</li>
<li>Alternative DCDC settings are defined and enabled.</li>
</ul>
<p>The DCDC is configured in accordance to the CCFG settings when turned on.</p>
<p>This function should be called periodically.</p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   uint32_t batThreshold     ;  <span class="comment">// Fractional format with 8 fractional bits.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   uint32_t aonBatmonBat     ;  <span class="comment">// Fractional format with 8 fractional bits.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   uint32_t ccfg_ModeConfReg ;  <span class="comment">// Holds a copy of the <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF target="_blank">CCFG_O_MODE_CONF</a> register.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   uint32_t aonSysctlPwrctl  ;  <span class="comment">// Reflect whats read/written to the <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> register.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <span class="comment">// We could potentially call this function before any battery voltage measurement</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="comment">// is made/available. In that case we must make sure that we do not turn off the DCDC.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="comment">// This can be done by doing nothing as long as the battery voltage is 0 (Since the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="comment">// reset value of the battery voltage register is 0).</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   aonBatmonBat = HWREG( <a href=../register_descriptions/CPU_MMAP/AON_BATMON.html target="_blank">AON_BATMON_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_BATMON.html#BAT target="_blank">AON_BATMON_O_BAT</a> );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">if</span> ( aonBatmonBat != 0 ) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// Check if Voltage Conditional Control is enabled</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// It is enabled if all the following are true:</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="comment">// - DCDC in use (either in active or recharge mode), (in use if one of the corresponding CCFG bits are zero).</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="comment">// - Alternative DCDC settings are enabled ( DIS_ALT_DCDC_SETTING == 0 )</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="comment">// - Not in external regulator mode ( EXT_REG_MODE == 0 )</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      ccfg_ModeConfReg = HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF target="_blank">CCFG_O_MODE_CONF</a> );</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">if</span> (((( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_DCDC_RECHARGE target="_blank">CCFG_MODE_CONF_DCDC_RECHARGE_M</a> ) == 0                                            ) ||</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;           (( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_DCDC_ACTIVE target="_blank">CCFG_MODE_CONF_DCDC_ACTIVE_M</a>   ) == 0                                            )    ) &amp;&amp;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          (( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> ) &amp; <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_EXT_REG_MODE target="_blank">AON_SYSCTL_PWRCTL_EXT_REG_MODE</a> )               == 0      ) &amp;&amp;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          (( HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#SIZE_AND_DIS_FLAGS target="_blank">CCFG_O_SIZE_AND_DIS_FLAGS</a> ) &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#SIZE_AND_DIS_FLAGS_DIS_ALT_DCDC_SETTING target="_blank">CCFG_SIZE_AND_DIS_FLAGS_DIS_ALT_DCDC_SETTING</a> ) == 0      )    )</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;         aonSysctlPwrctl = HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;         batThreshold    = (((( HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1 target="_blank">CCFG_O_MODE_CONF_1</a> ) &amp;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1_ALT_DCDC_VMIN target="_blank">CCFG_MODE_CONF_1_ALT_DCDC_VMIN_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1_ALT_DCDC_VMIN target="_blank">CCFG_MODE_CONF_1_ALT_DCDC_VMIN_S</a> ) + 28 ) &lt;&lt; 4 );</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;         <span class="keywordflow">if</span> ( aonSysctlPwrctl &amp; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_EN target="_blank">AON_SYSCTL_PWRCTL_DCDC_EN_M</a> | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_ACTIVE target="_blank">AON_SYSCTL_PWRCTL_DCDC_ACTIVE_M</a> )) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// DCDC is ON, check if it should be switched off</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> ( aonBatmonBat &lt; batThreshold ) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;               aonSysctlPwrctl &amp;= ~( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_EN target="_blank">AON_SYSCTL_PWRCTL_DCDC_EN_M</a> | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_ACTIVE target="_blank">AON_SYSCTL_PWRCTL_DCDC_ACTIVE_M</a> );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;               HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> ) = aonSysctlPwrctl;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;         } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="comment">// DCDC is OFF, check if it should be switched on</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> ( aonBatmonBat &gt; batThreshold ) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;               <span class="keywordflow">if</span> (( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_DCDC_RECHARGE target="_blank">CCFG_MODE_CONF_DCDC_RECHARGE_M</a> ) == 0 ) aonSysctlPwrctl |= <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_EN target="_blank">AON_SYSCTL_PWRCTL_DCDC_EN_M</a>     ;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;               <span class="keywordflow">if</span> (( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_DCDC_ACTIVE target="_blank">CCFG_MODE_CONF_DCDC_ACTIVE_M</a>   ) == 0 ) aonSysctlPwrctl |= <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_DCDC_ACTIVE target="_blank">AON_SYSCTL_PWRCTL_DCDC_ACTIVE_M</a> ;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;               HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> ) = aonSysctlPwrctl;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2429bf1aa1d3502c6fd999f9fa929661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysCtrlAdjustRechargeAfterPowerDown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust Recharge calculations to be used next. </p>
<p>This function shall be called just after returning from Power Down.</p>
<p>Reads the results from the adaptive recharge controller and current chip temperature. This is used as additional information when calculating optimal recharge controller settings next time (When <a class="el" href="group__sysctrl__api.html#gada20572ff04f08697bfaac24cb3d8ca3">SysCtrlSetRechargeBeforePowerDown()</a> is called next time).</p>
<dl class="section note"><dt>Note</dt><dd>Special care must be taken to make sure that the AON registers read are updated after the wakeup. Writing to an AON register and then calling <a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync()</a> will handle this.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   int32_t     curTemp                 ;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   uint32_t    longestRechargePeriod   ;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   uint32_t    deltaTime               ;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   uint32_t    newRechargePeriod       ;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="comment">//--- Spec. point 2 ---</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   longestRechargePeriod = ( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGESTAT target="_blank">AON_WUC_O_RECHARGESTAT</a> ) &amp;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGESTAT_MAX_USED_PER target="_blank">AON_WUC_RECHARGESTAT_MAX_USED_PER_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGESTAT_MAX_USED_PER target="_blank">AON_WUC_RECHARGESTAT_MAX_USED_PER_S</a> ;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">if</span> ( longestRechargePeriod != 0 ) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="comment">//--- Spec. changed (originaly point 1) ---</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      curTemp = <a class="code" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span> ( curTemp &lt; <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">pdTemp</a> ) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;         <span class="keywordflow">if</span> ( curTemp &lt; -128 ) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            curTemp = -128;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">pdTemp</a> = curTemp;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">//--- Spec. point 4 ---</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">if</span> ( longestRechargePeriod &lt; <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;         <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> = longestRechargePeriod;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         <span class="comment">//--- Spec. point 5 ---</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         deltaTime = HWREG( <a href=../register_descriptions/CPU_MMAP/AON_RTC.html target="_blank">AON_RTC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_RTC.html#SEC target="_blank">AON_RTC_O_SEC</a> ) - <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a35c6bcc8080b85c66a6c699ab5064a24">pdTime</a> + 2;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         <span class="keywordflow">if</span> ( deltaTime &gt; 31 ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            deltaTime = 31;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;         }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         newRechargePeriod = <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> + (( longestRechargePeriod - <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> ) &gt;&gt; (deltaTime&gt;&gt;1));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <span class="keywordflow">if</span> ( newRechargePeriod &gt; 0xFFFF ) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            newRechargePeriod = 0xFFFF;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;         }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> = newRechargePeriod;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="ttc" id="struct_power_qual_globals__t_html_a3728833134ac389d0857c935b441b016"><div class="ttname"><a href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">PowerQualGlobals_t::pdTemp</a></div><div class="ttdeci">int8_t pdTemp</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:80</div></div>
<div class="ttc" id="group__aonbatmon__api_html_gadc33e3e057f96ec6fc9fff57bd64de57"><div class="ttname"><a href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a></div><div class="ttdeci">int32_t AONBatMonTemperatureGetDegC(void)</div><div class="ttdoc">Get the current temperature measurement as a signed value in Deg Celsius. </div><div class="ttdef"><b>Definition:</b> aon_batmon.c:60</div></div>
<div class="ttc" id="sys__ctrl_8c_html_accfb666b394c6ea99c4033342d725b37"><div class="ttname"><a href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a></div><div class="ttdeci">static PowerQualGlobals_t powerQualGlobals</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:83</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_a35c6bcc8080b85c66a6c699ab5064a24"><div class="ttname"><a href="struct_power_qual_globals__t.html#a35c6bcc8080b85c66a6c699ab5064a24">PowerQualGlobals_t::pdTime</a></div><div class="ttdeci">uint32_t pdTime</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:77</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_a3403023509b7c3d20da53880fd11f952"><div class="ttname"><a href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">PowerQualGlobals_t::pdRechargePeriod</a></div><div class="ttdeci">uint16_t pdRechargePeriod</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:78</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sysctrl__api_ga2429bf1aa1d3502c6fd999f9fa929661_cgraph.png" border="0" usemap="#group__sysctrl__api_ga2429bf1aa1d3502c6fd999f9fa929661_cgraph" alt=""/></div>
<map name="group__sysctrl__api_ga2429bf1aa1d3502c6fd999f9fa929661_cgraph" id="group__sysctrl__api_ga2429bf1aa1d3502c6fd999f9fa929661_cgraph">
<area shape="rect" id="node2" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57" title="Get the current temperature measurement as a signed value in Deg Celsius. " alt="" coords="237,13,456,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1d9c005051b674f9f254747c1705e3dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SysCtrlAonSync </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sync all accesses to the AON register interface. </p>
<p>When this function returns, all writes to the AON register interface are guaranteed to have propagated to hardware. The function will return immediately if no AON writes are pending; otherwise, it will wait for the next AON clock before returning.</p>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sysctrl__api.html#gaab16ca6c04c85be0a1594779cd6d2dff">SysCtrlAonUpdate()</a> </dd></dl>

<p>Referenced by <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Sync the AON interface</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    HWREG(<a href=../register_descriptions/CPU_MMAP/AON_RTC.html target="_blank">AON_RTC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_RTC.html#SYNC target="_blank">AON_RTC_O_SYNC</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaab16ca6c04c85be0a1594779cd6d2dff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SysCtrlAonUpdate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update all interfaces to AON. </p>
<p>When this function returns, at least 1 clock cycle has progressed on the AON domain, so that any outstanding updates to and from the AON interface is guaranteed to be in sync.</p>
<dl class="section note"><dt>Note</dt><dd>This function should primarily be used after wakeup from sleep modes, as it will guarantee that all shadow registers on the AON interface are updated before reading any AON registers from the MCU domain. If a write has been done to the AON interface it is sufficient to call the <a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// Force a clock cycle on the AON interface to guarantee all registers are</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// in sync.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    HWREG(<a href=../register_descriptions/CPU_MMAP/AON_RTC.html target="_blank">AON_RTC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_RTC.html#SYNC target="_blank">AON_RTC_O_SYNC</a>) = 1;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    HWREG(<a href=../register_descriptions/CPU_MMAP/AON_RTC.html target="_blank">AON_RTC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_RTC.html#SYNC target="_blank">AON_RTC_O_SYNC</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae77a51be47ac7fc8833e16e1d8dcd69d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t SysCtrlClockGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the CPU core clock frequency. </p>
<p>Use this function to get the current clock frequency for the CPU.</p>
<p>The CPU can run from 48 MHz and down to 750kHz. The frequency is defined by the combined division factor of the SYSBUS and the CPU clock divider.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the current CPU core clock frequency. </dd></dl>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// Return fixed clock speed</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span>( GET_MCU_CLOCK );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad73856695618362443e715b6b0b79447"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SysCtrlClockLossResetDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables reset due to OSC clock loss event. </p>
<dl class="section note"><dt>Note</dt><dd>This function shall typically not be called because the clock loss reset functionality is controlled by the boot code (a factory configuration defines whether it is set or not).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sysctrl__api.html#ga6fa15bd8d1e522e5cd3585bd7360d0d0">SysCtrlClockLossResetEnable()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// Clear clock loss enable bit in AON_SYSCTRL using bit banding</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    HWREGBITW(<a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a>, <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_CLK_LOSS_EN target="_blank">AON_SYSCTL_RESETCTL_CLK_LOSS_EN_BITN</a>) = 0;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6fa15bd8d1e522e5cd3585bd7360d0d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SysCtrlClockLossResetEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enables reset if OSC clock loss event is asserted. </p>
<p>Clock loss circuit in analog domain must be enabled as well in order to actually enable for a clock loss reset to occur <a class="el" href="group__osc__api.html#ga466c89b836c6b60214fec5b5e8e0719d">OSCClockLossEventEnable()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This function shall typically not be called because the clock loss reset functionality is controlled by the boot code (a factory configuration defines whether it is set or not).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sysctrl__api.html#gad73856695618362443e715b6b0b79447">SysCtrlClockLossResetDisable()</a>, <a class="el" href="group__osc__api.html#ga466c89b836c6b60214fec5b5e8e0719d">OSCClockLossEventEnable()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// Set clock loss enable bit in AON_SYSCTRL using bit banding</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    HWREGBITW(<a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a>, <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_CLK_LOSS_EN target="_blank">AON_SYSCTL_RESETCTL_CLK_LOSS_EN_BITN</a>) = 1;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3f5b01e47c54408834611c9c2d7dc72f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SysCtrlResetSourceGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns last reset source (including "wakeup from shutdown"). </p>
<dl class="section return"><dt>Returns</dt><dd>Returns one of the RSTSRC_ defines. </dd></dl>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> ( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) &amp; <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_WU_FROM_SD target="_blank">AON_SYSCTL_RESETCTL_WU_FROM_SD_M</a> ) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">return</span> ( <a class="code" href="group__sysctrl__api.html#ga4615975dd3b4e0a15224c6caaa135901">RSTSRC_WAKEUP_FROM_SHUTDOWN</a> );</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">return</span> (( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) &amp;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ) ;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="ttc" id="group__sysctrl__api_html_ga4615975dd3b4e0a15224c6caaa135901"><div class="ttname"><a href="group__sysctrl__api.html#ga4615975dd3b4e0a15224c6caaa135901">RSTSRC_WAKEUP_FROM_SHUTDOWN</a></div><div class="ttdeci">#define RSTSRC_WAKEUP_FROM_SHUTDOWN</div><div class="ttdef"><b>Definition:</b> sys_ctrl.h:289</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gada20572ff04f08697bfaac24cb3d8ca3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysCtrlSetRechargeBeforePowerDown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>xoscPowerMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Recharge values before entering Power Down. </p>
<p>This function shall be called just before entering Power Down. It calculates an optimal and safe recharge setting of the adaptive recharge controller. The results of previous setting are also taken into account.</p>
<dl class="section note"><dt>Note</dt><dd>In order to make sure that the register writes are completed, <a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync()</a> must be called before entering standby/power down. This is not done internally in this function due to two reasons:<ul>
<li>1) There might be other register writes that must be synchronized as well.</li>
<li>2) It is possible to save some time by doing other things before calling <a class="el" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc">SysCtrlAonSync()</a> since this call will not return before there are no outstanding write requests between MCU and AON.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xoscPowerMode</td><td>(typically running in XOSC_IN_HIGH_POWER_MODE all the time).<ul>
<li><a class="el" href="group__sysctrl__api.html#ga6e16fb028b341da513a358276d7cf58a">XOSC_IN_HIGH_POWER_MODE</a> : When xosc_hf is in HIGH_POWER_XOSC.</li>
<li><a class="el" href="group__sysctrl__api.html#ga3ae68574a85e91bad0f8e262bdc014d9">XOSC_IN_LOW_POWER_MODE</a> : When xosc_hf is in LOW_POWER_XOSC.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   int32_t           curTemp                 ;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   int32_t           shiftedTemp             ;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   int32_t           deltaVddrSleepTrim      ;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   int32_t           vddrTrimSleep           ;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   int32_t           vddrTrimActve           ;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   int32_t           diffVddrActiveSleep     ;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   uint32_t          ccfg_ModeConfReg        ;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   uint32_t          curState                ;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   uint32_t          prcmRamRetention        ;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   uint32_t          di                      ;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   uint32_t          dii                     ;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   uint32_t          ti                      ;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   uint32_t          cd                      ;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   uint32_t          cl                      ;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   uint32_t          load                    ;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   uint32_t          k                       ;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   uint32_t          vddrCap                 ;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   uint32_t          newRechargePeriod       ;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   uint32_t          perE                    ;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   uint32_t          perM                    ;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keyword">const</span> uint32_t  * pLookupTable            ;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="comment">// If external regulator mode we shall:</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="comment">// - Disable adaptive recharge (bit[31]=0) in <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGECFG target="_blank">AON_WUC_O_RECHARGECFG</a></span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <span class="comment">// - Set recharge period to approximately 500 mS (perM=31, perE=5 =&gt; 0xFD)</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="comment">// - Make sure you get a recalculation if leaving external regulator mode by setting powerQualGlobals.pdState accordingly</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keywordflow">if</span> ( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL target="_blank">AON_SYSCTL_O_PWRCTL</a> ) &amp; <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#PWRCTL_EXT_REG_MODE target="_blank">AON_SYSCTL_PWRCTL_EXT_REG_MODE</a> ) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#aabed9694775408a8d5f9a1e33f9e6194">pdState</a> = <a class="code" href="sys__ctrl_8c.html#aebe2ff2123e00eb60449d1fbff952e8f">PD_STATE_EXT_REG_MODE</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGECFG target="_blank">AON_WUC_O_RECHARGECFG</a>  ) = 0x00A4FDFD;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="comment">//--- Spec. point 1 ---</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   curTemp  = <a class="code" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   curState = 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="comment">// read the MODE_CONF register in CCFG</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   ccfg_ModeConfReg = HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF target="_blank">CCFG_O_MODE_CONF</a> );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="comment">// Get VDDR_TRIM_SLEEP_DELTA + 1 (sign extended)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   deltaVddrSleepTrim = ((((int32_t) ccfg_ModeConfReg )</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      &lt;&lt; ( 32 - <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_TRIM_SLEEP_DELTA target="_blank">CCFG_MODE_CONF_VDDR_TRIM_SLEEP_DELTA_W</a> - <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_TRIM_SLEEP_DELTA target="_blank">CCFG_MODE_CONF_VDDR_TRIM_SLEEP_DELTA_S</a> ))</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      &gt;&gt; ( 32 - <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_TRIM_SLEEP_DELTA target="_blank">CCFG_MODE_CONF_VDDR_TRIM_SLEEP_DELTA_W</a> )) + 1;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="comment">// Do temperature compensation if enabled</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keywordflow">if</span> (( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_TRIM_SLEEP_TC target="_blank">CCFG_MODE_CONF_VDDR_TRIM_SLEEP_TC</a> ) == 0 ) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      int32_t tcDelta = ( 62 - curTemp ) &gt;&gt; 3;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">if</span> ( tcDelta &gt; 8 ) tcDelta = 8;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">if</span> ( tcDelta &gt; deltaVddrSleepTrim ) deltaVddrSleepTrim = tcDelta;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keywordflow">if</span> ((( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_EXT_LOAD target="_blank">CCFG_MODE_CONF_VDDR_EXT_LOAD</a>  ) == 0 ) &amp;&amp;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;       (( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDS_BOD_LEVEL target="_blank">CCFG_MODE_CONF_VDDS_BOD_LEVEL</a> ) != 0 )    )</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      vddrTrimSleep = <a class="code" href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36">SetupSignExtendVddrTrimValue</a>((</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;         HWREG( <a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM target="_blank">FCFG1_O_VOLT_TRIM</a> ) &amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM_VDDR_TRIM_SLEEP_H target="_blank">FCFG1_VOLT_TRIM_VDDR_TRIM_SLEEP_H_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM_VDDR_TRIM_SLEEP_H target="_blank">FCFG1_VOLT_TRIM_VDDR_TRIM_SLEEP_H_S</a> ) ;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      vddrTrimActve = <a class="code" href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36">SetupSignExtendVddrTrimValue</a>((</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;         HWREG( <a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM target="_blank">FCFG1_O_VOLT_TRIM</a> ) &amp;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM_VDDR_TRIM_HH target="_blank">FCFG1_VOLT_TRIM_VDDR_TRIM_HH_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#VOLT_TRIM_VDDR_TRIM_HH target="_blank">FCFG1_VOLT_TRIM_VDDR_TRIM_HH_S</a> ) ;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      vddrTrimSleep = <a class="code" href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36">SetupSignExtendVddrTrimValue</a>((</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;         HWREG( <a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#LDO_TRIM target="_blank">FCFG1_O_LDO_TRIM</a> ) &amp;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#LDO_TRIM_VDDR_TRIM_SLEEP target="_blank">FCFG1_LDO_TRIM_VDDR_TRIM_SLEEP_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#LDO_TRIM_VDDR_TRIM_SLEEP target="_blank">FCFG1_LDO_TRIM_VDDR_TRIM_SLEEP_S</a> ) ;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      vddrTrimActve = <a class="code" href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36">SetupSignExtendVddrTrimValue</a>((</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;         HWREG( <a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#SHDW_ANA_TRIM target="_blank">FCFG1_O_SHDW_ANA_TRIM</a> ) &amp;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#SHDW_ANA_TRIM_VDDR_TRIM target="_blank">FCFG1_SHDW_ANA_TRIM_VDDR_TRIM_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;         <a href=../register_descriptions/CPU_MMAP/FCFG1.html#SHDW_ANA_TRIM_VDDR_TRIM target="_blank">FCFG1_SHDW_ANA_TRIM_VDDR_TRIM_S</a> ) ;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   vddrTrimSleep += deltaVddrSleepTrim;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">if</span> ( vddrTrimSleep &gt;  21 ) vddrTrimSleep =  21;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">if</span> ( vddrTrimSleep &lt; -10 ) vddrTrimSleep = -10;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="comment">// Write adjusted value using MASKED write (MASK8)</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   HWREGH( <a href=../register_descriptions/CPU_MMAP/ADI3.html target="_blank">ADI3_BASE</a> + ADI_O_MASK8B + ( <a href=../register_descriptions/ANATOP_MMAP/ADI_3_REFSYS.html#DCDCCTL1 target="_blank">ADI_3_REFSYS_O_DCDCCTL1</a> * 2 )) = (( <a href=../register_descriptions/ANATOP_MMAP/ADI_3_REFSYS.html#DCDCCTL1_VDDR_TRIM_SLEEP target="_blank">ADI_3_REFSYS_DCDCCTL1_VDDR_TRIM_SLEEP_M</a> &lt;&lt; 8 ) |</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      (( vddrTrimSleep &lt;&lt; <a href=../register_descriptions/ANATOP_MMAP/ADI_3_REFSYS.html#DCDCCTL1_VDDR_TRIM_SLEEP target="_blank">ADI_3_REFSYS_DCDCCTL1_VDDR_TRIM_SLEEP_S</a> ) &amp; <a href=../register_descriptions/ANATOP_MMAP/ADI_3_REFSYS.html#DCDCCTL1_VDDR_TRIM_SLEEP target="_blank">ADI_3_REFSYS_DCDCCTL1_VDDR_TRIM_SLEEP_M</a> ));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   prcmRamRetention = HWREG( <a href=../register_descriptions/CPU_MMAP/PRCM.html target="_blank">PRCM_BASE</a> + <a href=../register_descriptions/CPU_MMAP/PRCM.html#RAMRETEN target="_blank">PRCM_O_RAMRETEN</a> );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordflow">if</span> ( prcmRamRetention &amp; <a href=../register_descriptions/CPU_MMAP/PRCM.html#RAMRETEN_VIMS target="_blank">PRCM_RAMRETEN_VIMS_M</a> ) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      curState |= <a class="code" href="sys__ctrl_8c.html#a3a2508efaf91419390dbc38da69a6f14">PD_STATE_CACHE_RET</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordflow">if</span> ( prcmRamRetention &amp; <a href=../register_descriptions/CPU_MMAP/PRCM.html#RAMRETEN_RFC target="_blank">PRCM_RAMRETEN_RFC</a> ) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      curState |= <a class="code" href="sys__ctrl_8c.html#a9270d6f8c8fb9c65ec1a3a3e0d21cf7b">PD_STATE_RFMEM_RET</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordflow">if</span> ( xoscPowerMode != <a class="code" href="group__sysctrl__api.html#ga6e16fb028b341da513a358276d7cf58a">XOSC_IN_HIGH_POWER_MODE</a> ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      curState |= <a class="code" href="sys__ctrl_8c.html#aad6bfbe32f675afcb2946016032bf899">PD_STATE_XOSC_LPM</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="comment">//--- Spec. point 2 ---</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">if</span> ((( curTemp - <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">pdTemp</a> ) &gt;= 5 ) || ( curState != <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#aabed9694775408a8d5f9a1e33f9e6194">pdState</a> )) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="comment">//--- Spec. point 3 ---</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      shiftedTemp = curTemp - 15;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">//--- Spec point 4 ---</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="comment">//4. Check for external VDDR load option (may not be supported): ext_load = (VDDR_EXT_LOAD=0 in CCFG)</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">// Currently not implementing external load handling</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="comment">// if ( __ccfg.ulModeConfig &amp; MODE_CONF_VDDR_EXT_LOAD ) {</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">// }</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      pLookupTable = (uint32_t *)( <a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#PWD_CURR_20C target="_blank">FCFG1_O_PWD_CURR_20C</a> );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="comment">//--- Spec point 5 ---</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      di    = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      ti    = 0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">if</span> ( shiftedTemp &gt;= 0 ) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         <span class="comment">//--- Spec point 5.a ---</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;         shiftedTemp += ( shiftedTemp &lt;&lt; 4 );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;         <span class="comment">//--- Spec point 5.b ---</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;         ti = ( shiftedTemp &gt;&gt; 8 );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         <span class="keywordflow">if</span> ( ti &gt; 7 ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            ti = 7;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         dii = ti;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         <span class="keywordflow">if</span> ( dii &gt; 6 ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            dii = 6;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         <span class="comment">//--- Spec point 5.c ---</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         cd = pLookupTable[ dii + 1 ] - pLookupTable[ dii ];</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;         <span class="comment">//--- Spec point 5.d ---</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         di = cd &amp; 0xFF;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         <span class="comment">//--- Spec point 5.e ---</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         <span class="keywordflow">if</span> ( curState &amp; <a class="code" href="sys__ctrl_8c.html#aad6bfbe32f675afcb2946016032bf899">PD_STATE_XOSC_LPM</a> ) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            di += (( cd &gt;&gt; 8 ) &amp; 0xFF );</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;         }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <span class="keywordflow">if</span> ( curState &amp; <a class="code" href="sys__ctrl_8c.html#a9270d6f8c8fb9c65ec1a3a3e0d21cf7b">PD_STATE_RFMEM_RET</a> ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            di += (( cd &gt;&gt; 16 ) &amp; 0xFF );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;         <span class="keywordflow">if</span> ( curState &amp; <a class="code" href="sys__ctrl_8c.html#a3a2508efaf91419390dbc38da69a6f14">PD_STATE_CACHE_RET</a> ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            di += (( cd &gt;&gt; 24 ) &amp; 0xFF );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;         }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;         <span class="comment">//--- Spec point 5.f ---</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;         <span class="comment">// Currently not implementing external load handling</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="comment">//--- Spec. point 6 ---</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      cl = pLookupTable[ ti ];</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="comment">//--- Spec. point 7 ---</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      load = cl &amp; 0xFF;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">//--- Spec. point 8 ---</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="keywordflow">if</span> ( curState &amp; PD_STATE_XOSC_LPM ) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;         load += (( cl &gt;&gt; 8 ) &amp; 0xFF );</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">if</span> ( curState &amp; PD_STATE_RFMEM_RET ) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         load += (( cl &gt;&gt; 16 ) &amp; 0xFF );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">if</span> ( curState &amp; <a class="code" href="sys__ctrl_8c.html#a3a2508efaf91419390dbc38da69a6f14">PD_STATE_CACHE_RET</a> ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;         load += (( cl &gt;&gt; 24 ) &amp; 0xFF );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">//--- Spec. point 9 ---</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      load += ((( di * ( shiftedTemp - ( ti &lt;&lt; 8 ))) + 128 ) &gt;&gt; 8 );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="comment">// Currently not implementing external load handling</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="comment">// if ( __ccfg.ulModeConfig &amp; MODE_CONF_VDDR_EXT_LOAD ) {</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         <span class="comment">//--- Spec. point 10 ---</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="comment">// } else {</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         <span class="comment">//--- Spec. point 11 ---</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         diffVddrActiveSleep = ( vddrTrimActve - vddrTrimSleep );</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         <span class="keywordflow">if</span> ( diffVddrActiveSleep &lt; 1 ) diffVddrActiveSleep = 1;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;         k = ( diffVddrActiveSleep * 52 );</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// }</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">//--- Spec. point 12 ---</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      vddrCap = ( ccfg_ModeConfReg &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_CAP target="_blank">CCFG_MODE_CONF_VDDR_CAP_M</a> ) &gt;&gt; <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_VDDR_CAP target="_blank">CCFG_MODE_CONF_VDDR_CAP_S</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      newRechargePeriod = ( vddrCap * k ) / load;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">if</span> ( newRechargePeriod &gt; 0xFFFF ) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;         newRechargePeriod = 0xFFFF;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> = newRechargePeriod;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">//--- Spec. point 13 ---</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> ( curTemp &gt;  127 ) curTemp =  127;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">if</span> ( curTemp &lt; -128 ) curTemp = -128;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">pdTemp</a>    = curTemp;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#aabed9694775408a8d5f9a1e33f9e6194">pdState</a>   = curState;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a35c6bcc8080b85c66a6c699ab5064a24">pdTime</a>    = HWREG( <a href=../register_descriptions/CPU_MMAP/AON_RTC.html target="_blank">AON_RTC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_RTC.html#SEC target="_blank">AON_RTC_O_SEC</a> );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="comment">// Calculate PER_E and PER_M (based on powerQualGlobals.pdRechargePeriod)</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="comment">// Round downwards but make sure PER_E=0 and PER_M=1 is the minimum possible setting.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="comment">// (assuming that powerQualGlobals.pdRechargePeriod always are &lt;= 0xFFFF)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   perE = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   perM = <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <span class="keywordflow">if</span> ( perM &lt; 31 ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      perM = 31;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a>.<a class="code" href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">pdRechargePeriod</a> = 31;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordflow">while</span> ( perM &gt; 511 ) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      perM &gt;&gt;= 1;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      perE  += 1;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   perM = ( perM - 15 ) &gt;&gt; 4;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGECFG target="_blank">AON_WUC_O_RECHARGECFG</a> ) =</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      ( 0x80A4E700                          ) |</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      ( perM &lt;&lt; <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGECFG_PER_M target="_blank">AON_WUC_RECHARGECFG_PER_M_S</a> ) |</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      ( perE &lt;&lt; <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGECFG_PER_E target="_blank">AON_WUC_RECHARGECFG_PER_E_S</a> ) ;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#RECHARGESTAT target="_blank">AON_WUC_O_RECHARGESTAT</a> ) = 0;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="ttc" id="group__sysctrl__api_html_ga6e16fb028b341da513a358276d7cf58a"><div class="ttname"><a href="group__sysctrl__api.html#ga6e16fb028b341da513a358276d7cf58a">XOSC_IN_HIGH_POWER_MODE</a></div><div class="ttdeci">#define XOSC_IN_HIGH_POWER_MODE</div><div class="ttdef"><b>Definition:</b> sys_ctrl.h:134</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_a3728833134ac389d0857c935b441b016"><div class="ttname"><a href="struct_power_qual_globals__t.html#a3728833134ac389d0857c935b441b016">PowerQualGlobals_t::pdTemp</a></div><div class="ttdeci">int8_t pdTemp</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:80</div></div>
<div class="ttc" id="group__aonbatmon__api_html_gadc33e3e057f96ec6fc9fff57bd64de57"><div class="ttname"><a href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a></div><div class="ttdeci">int32_t AONBatMonTemperatureGetDegC(void)</div><div class="ttdoc">Get the current temperature measurement as a signed value in Deg Celsius. </div><div class="ttdef"><b>Definition:</b> aon_batmon.c:60</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_aabed9694775408a8d5f9a1e33f9e6194"><div class="ttname"><a href="struct_power_qual_globals__t.html#aabed9694775408a8d5f9a1e33f9e6194">PowerQualGlobals_t::pdState</a></div><div class="ttdeci">uint8_t pdState</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:79</div></div>
<div class="ttc" id="sys__ctrl_8c_html_aad6bfbe32f675afcb2946016032bf899"><div class="ttname"><a href="sys__ctrl_8c.html#aad6bfbe32f675afcb2946016032bf899">PD_STATE_XOSC_LPM</a></div><div class="ttdeci">#define PD_STATE_XOSC_LPM</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:73</div></div>
<div class="ttc" id="sys__ctrl_8c_html_a3a2508efaf91419390dbc38da69a6f14"><div class="ttname"><a href="sys__ctrl_8c.html#a3a2508efaf91419390dbc38da69a6f14">PD_STATE_CACHE_RET</a></div><div class="ttdeci">#define PD_STATE_CACHE_RET</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:71</div></div>
<div class="ttc" id="sys__ctrl_8c_html_aebe2ff2123e00eb60449d1fbff952e8f"><div class="ttname"><a href="sys__ctrl_8c.html#aebe2ff2123e00eb60449d1fbff952e8f">PD_STATE_EXT_REG_MODE</a></div><div class="ttdeci">#define PD_STATE_EXT_REG_MODE</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:74</div></div>
<div class="ttc" id="sys__ctrl_8c_html_accfb666b394c6ea99c4033342d725b37"><div class="ttname"><a href="sys__ctrl_8c.html#accfb666b394c6ea99c4033342d725b37">powerQualGlobals</a></div><div class="ttdeci">static PowerQualGlobals_t powerQualGlobals</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:83</div></div>
<div class="ttc" id="sys__ctrl_8c_html_a9270d6f8c8fb9c65ec1a3a3e0d21cf7b"><div class="ttname"><a href="sys__ctrl_8c.html#a9270d6f8c8fb9c65ec1a3a3e0d21cf7b">PD_STATE_RFMEM_RET</a></div><div class="ttdeci">#define PD_STATE_RFMEM_RET</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:72</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_a35c6bcc8080b85c66a6c699ab5064a24"><div class="ttname"><a href="struct_power_qual_globals__t.html#a35c6bcc8080b85c66a6c699ab5064a24">PowerQualGlobals_t::pdTime</a></div><div class="ttdeci">uint32_t pdTime</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:77</div></div>
<div class="ttc" id="struct_power_qual_globals__t_html_a3403023509b7c3d20da53880fd11f952"><div class="ttname"><a href="struct_power_qual_globals__t.html#a3403023509b7c3d20da53880fd11f952">PowerQualGlobals_t::pdRechargePeriod</a></div><div class="ttdeci">uint16_t pdRechargePeriod</div><div class="ttdef"><b>Definition:</b> sys_ctrl.c:78</div></div>
<div class="ttc" id="group__setup__api_html_ga509c195facb2a327009856633b2f4e36"><div class="ttname"><a href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36">SetupSignExtendVddrTrimValue</a></div><div class="ttdeci">static int32_t SetupSignExtendVddrTrimValue(uint32_t ui32VddrTrimVal)</div><div class="ttdoc">Sign extend the VDDR_TRIM setting (special format ranging from -10 to +21) </div><div class="ttdef"><b>Definition:</b> setup_rom.h:294</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sysctrl__api_gada20572ff04f08697bfaac24cb3d8ca3_cgraph.png" border="0" usemap="#group__sysctrl__api_gada20572ff04f08697bfaac24cb3d8ca3_cgraph" alt=""/></div>
<map name="group__sysctrl__api_gada20572ff04f08697bfaac24cb3d8ca3_cgraph" id="group__sysctrl__api_gada20572ff04f08697bfaac24cb3d8ca3_cgraph">
<area shape="rect" id="node2" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57" title="Get the current temperature measurement as a signed value in Deg Celsius. " alt="" coords="231,5,449,32"/>
<area shape="rect" id="node3" href="group__setup__api.html#ga509c195facb2a327009856633b2f4e36" title="Sign extend the VDDR_TRIM setting (special format ranging from &#45;10 to +21) " alt="" coords="237,56,443,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4cdc403defa620735aa9c26364c138f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void SysCtrlSystemReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a full system reset. </p>
<dl class="section return"><dt>Returns</dt><dd>The chip will reset and hence never return from this call. </dd></dl>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="comment">// Disable CPU interrupts</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <a class="code" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0">CPUcpsid</a>();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="comment">// Write reset register</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   HWREGBITW( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a>, <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_SYSRESET target="_blank">AON_SYSCTL_RESETCTL_SYSRESET_BITN</a> ) = 1;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="comment">// Finally, wait until the above write propagates</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keywordflow">while</span> ( 1 ) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// Do nothing, just wait for the reset (and never return from here)</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="group__cpu__api_html_ga491d851c4f7fff1f9f66aa778b0671b0"><div class="ttname"><a href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0">CPUcpsid</a></div><div class="ttdeci">uint32_t CPUcpsid(void)</div><div class="ttdoc">Disable all external interrupts. </div><div class="ttdef"><b>Definition:</b> cpu.c:68</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__sysctrl__api_ga4cdc403defa620735aa9c26364c138f8_cgraph.png" border="0" usemap="#group__sysctrl__api_ga4cdc403defa620735aa9c26364c138f8_cgraph" alt=""/></div>
<map name="group__sysctrl__api_ga4cdc403defa620735aa9c26364c138f8_cgraph" id="group__sysctrl__api_ga4cdc403defa620735aa9c26364c138f8_cgraph">
<area shape="rect" id="node2" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="197,5,277,32"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad8cff96e446bcdb13887066720f5c494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_DEEP_SLEEP&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga00255070edf1be20feb81b9903f3223f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_RUN&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga773658aad071f07b31030223dda49275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_SLEEP&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga97fc9598e4f8c7e24f7beb36e65d086c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_CLK_LOSS&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_CLK_LOSS</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaaa708e37d5fa9cc53d4cb1aa614917e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_PIN_RESET&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_PIN_RESET</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad90471e7a4a7ab8edb78332d02fa90d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_PWR_ON&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_PWR_ON</a>    ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga53ce2b9f28b9c88b8aaeeba874be58fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_SYSRESET&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_SYSRESET</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad6203b6693b8fe7da9748814704627aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_VDD_LOSS&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDD_LOSS</a>  ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gadf7a66fdaad476e137a9a3ac407b8a68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_VDDR_LOSS&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDDR_LOSS</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gae6ca1f42473498efd184735fa5baea7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_VDDS_LOSS&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_VDDS_LOSS</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga4615975dd3b4e0a15224c6caaa135901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_WAKEUP_FROM_SHUTDOWN&#160;&#160;&#160;((( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_M</a>        ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> )) + 1 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__sysctrl__api.html#ga3f5b01e47c54408834611c9c2d7dc72f">SysCtrlResetSourceGet()</a>.</p>

</div>
</div>
<a class="anchor" id="gab80e4b8ddbfd2cc3b4f976acd3e8d210"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RSTSRC_WARMRESET&#160;&#160;&#160;(( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_WARMRESET</a> ) &gt;&gt; ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_RESET_SRC target="_blank">AON_SYSCTL_RESETCTL_RESET_SRC_S</a> ))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gacf7475f763e7d9db4a1d56a4533e85aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYSCTRL_SYSBUS_OFF&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga067a0a150c8f5a3ea322e4dc7915361b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYSCTRL_SYSBUS_ON&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga6e16fb028b341da513a358276d7cf58a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XOSC_IN_HIGH_POWER_MODE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__sysctrl__api.html#gada20572ff04f08697bfaac24cb3d8ca3">SysCtrlSetRechargeBeforePowerDown()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3ae68574a85e91bad0f8e262bdc014d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XOSC_IN_LOW_POWER_MODE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy Copyright 2015 - 2017 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
