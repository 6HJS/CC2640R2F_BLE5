<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CC13xx Driver Library: [osc] Oscillator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC13xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>APIs</span></a></li>
      <li><a href="usergroup0.html"><span>Register&#160;Descriptions</span></a></li>
      <li><a href="usergroup1.html"><span>Online&#160;Resources</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__osc__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">[osc] Oscillator<div class="ingroups"><a class="el" href="group__system__control__group.html">System Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5f00114c27141d4a48934cad95b0daa0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga5f00114c27141d4a48934cad95b0daa0">OSCXHfPowerModeSet</a> (uint32_t ui32Mode)</td></tr>
<tr class="memdesc:ga5f00114c27141d4a48934cad95b0daa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Power Mode for High Frequency XTAL Oscillator.  <a href="#ga5f00114c27141d4a48934cad95b0daa0">More...</a><br /></td></tr>
<tr class="separator:ga5f00114c27141d4a48934cad95b0daa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga466c89b836c6b60214fec5b5e8e0719d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga466c89b836c6b60214fec5b5e8e0719d">OSCClockLossEventEnable</a> (void)</td></tr>
<tr class="memdesc:ga466c89b836c6b60214fec5b5e8e0719d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables OSC clock loss event detection.  <a href="#ga466c89b836c6b60214fec5b5e8e0719d">More...</a><br /></td></tr>
<tr class="separator:ga466c89b836c6b60214fec5b5e8e0719d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c7823a2f4fc61456f576bf472ed2308"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga8c7823a2f4fc61456f576bf472ed2308">OSCClockLossEventDisable</a> (void)</td></tr>
<tr class="memdesc:ga8c7823a2f4fc61456f576bf472ed2308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables OSC clock loss event detection.  <a href="#ga8c7823a2f4fc61456f576bf472ed2308">More...</a><br /></td></tr>
<tr class="separator:ga8c7823a2f4fc61456f576bf472ed2308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37a02687fbd8680396550f682a7f046f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet</a> (uint32_t ui32SrcClk, uint32_t ui32Osc)</td></tr>
<tr class="memdesc:ga37a02687fbd8680396550f682a7f046f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the oscillator input to the a source clock.  <a href="#ga37a02687fbd8680396550f682a7f046f">More...</a><br /></td></tr>
<tr class="separator:ga37a02687fbd8680396550f682a7f046f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga279bd3a34548bd4c5e2fc6939f7be228"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet</a> (uint32_t ui32SrcClk)</td></tr>
<tr class="memdesc:ga279bd3a34548bd4c5e2fc6939f7be228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the source clock settings.  <a href="#ga279bd3a34548bd4c5e2fc6939f7be228">More...</a><br /></td></tr>
<tr class="separator:ga279bd3a34548bd4c5e2fc6939f7be228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae135dfece97e821338b93c4b32bc6980"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#gae135dfece97e821338b93c4b32bc6980">OSCHfSourceReady</a> (void)</td></tr>
<tr class="memdesc:gae135dfece97e821338b93c4b32bc6980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the HF clock source is ready to be switched.  <a href="#gae135dfece97e821338b93c4b32bc6980">More...</a><br /></td></tr>
<tr class="separator:gae135dfece97e821338b93c4b32bc6980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac21e7c4532672c8fa7b90e493359ddc2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch</a> (void)</td></tr>
<tr class="memdesc:gac21e7c4532672c8fa7b90e493359ddc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the high frequency clock.  <a href="#gac21e7c4532672c8fa7b90e493359ddc2">More...</a><br /></td></tr>
<tr class="separator:gac21e7c4532672c8fa7b90e493359ddc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f7fce82e80c984531622af61963db51"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga8f7fce82e80c984531622af61963db51">OSCHF_GetStartupTime</a> (uint32_t timeUntilWakeupInMs)</td></tr>
<tr class="memdesc:ga8f7fce82e80c984531622af61963db51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns maximum startup time (in microseconds) of XOSC_HF.  <a href="#ga8f7fce82e80c984531622af61963db51">More...</a><br /></td></tr>
<tr class="separator:ga8f7fce82e80c984531622af61963db51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5a511c4ca70e8eb66f4a6252488506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#gaee5a511c4ca70e8eb66f4a6252488506">OSCHF_TurnOnXosc</a> (void)</td></tr>
<tr class="memdesc:gaee5a511c4ca70e8eb66f4a6252488506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on XOSC_HF (but without switching to XOSC_HF).  <a href="#gaee5a511c4ca70e8eb66f4a6252488506">More...</a><br /></td></tr>
<tr class="separator:gaee5a511c4ca70e8eb66f4a6252488506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47914d2750ee826560f2107a567bb1a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc</a> (void)</td></tr>
<tr class="memdesc:ga47914d2750ee826560f2107a567bb1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch to XOSC_HF if XOSC_HF is ready.  <a href="#ga47914d2750ee826560f2107a567bb1a4">More...</a><br /></td></tr>
<tr class="separator:ga47914d2750ee826560f2107a567bb1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9eeb99e769d9c911305ff4c3c33c736c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc</a> (void)</td></tr>
<tr class="memdesc:ga9eeb99e769d9c911305ff4c3c33c736c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch to RCOSC_HF and turn off XOSC_HF.  <a href="#ga9eeb99e769d9c911305ff4c3c33c736c">More...</a><br /></td></tr>
<tr class="separator:ga9eeb99e769d9c911305ff4c3c33c736c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33e3c6c58c877cfa2be8221148ed1885"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga33e3c6c58c877cfa2be8221148ed1885">OSCHF_DebugGetCrystalAmplitude</a> (void)</td></tr>
<tr class="memdesc:ga33e3c6c58c877cfa2be8221148ed1885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get crystal amplitude (assuming crystal is running).  <a href="#ga33e3c6c58c877cfa2be8221148ed1885">More...</a><br /></td></tr>
<tr class="separator:ga33e3c6c58c877cfa2be8221148ed1885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19ebf81100cd985a838276260fde3cab"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga19ebf81100cd985a838276260fde3cab">OSCHF_DebugGetExpectedAverageCrystalAmplitude</a> (void)</td></tr>
<tr class="memdesc:ga19ebf81100cd985a838276260fde3cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the expected average crystal amplitude.  <a href="#ga19ebf81100cd985a838276260fde3cab">More...</a><br /></td></tr>
<tr class="separator:ga19ebf81100cd985a838276260fde3cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d974140ed2a25ffbb5dd851c63cbb8d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga5d974140ed2a25ffbb5dd851c63cbb8d">OSC_HPOSCRelativeFrequencyOffsetGet</a> (int32_t tempDegC)</td></tr>
<tr class="memdesc:ga5d974140ed2a25ffbb5dd851c63cbb8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the temperature dependent relative frequency offset of HPOSC.  <a href="#ga5d974140ed2a25ffbb5dd851c63cbb8d">More...</a><br /></td></tr>
<tr class="separator:ga5d974140ed2a25ffbb5dd851c63cbb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4117910cda25374e78214e2b632102a7"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__api.html#ga4117910cda25374e78214e2b632102a7">OSC_HPOSCRelativeFrequencyOffsetToRFCoreFormatConvert</a> (int32_t HPOSC_RelFreqOffset)</td></tr>
<tr class="memdesc:ga4117910cda25374e78214e2b632102a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the relative frequency offset of HPOSC to the RF Core parameter format.  <a href="#ga4117910cda25374e78214e2b632102a7">More...</a><br /></td></tr>
<tr class="separator:ga4117910cda25374e78214e2b632102a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5d974140ed2a25ffbb5dd851c63cbb8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t OSC_HPOSCRelativeFrequencyOffsetGet </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>tempDegC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the temperature dependent relative frequency offset of HPOSC. </p>
<p>The HPOSC (High Precision Oscillator) frequency will vary slightly with chip temperature. The frequency offset from the nominal value can be predicted based on second order linear interpolation using coefficients measured in chip production and stored as factory configuration parameters.</p>
<p>This function calculates the relative frequency offset, defined as: </p><pre>
    F_HPOSC = F_nom * (1 + d/(2^22))
</pre><p> where</p><ul>
<li>F_HPOSC is the current HPOSC frequency.</li>
<li>F_nom is the nominal oscillator frequency, assumed to be 48.000 MHz.</li>
<li>d is the relative frequency offset (the value returned).</li>
</ul>
<p>By knowing the relative frequency offset it is then possible to compensate any timing related values accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tempDegC</td><td>is the chip temperature in degrees Celsius. Use the function <a class="el" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC()</a> to get current chip temperature.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the relative frequency offset parameter d.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga4117910cda25374e78214e2b632102a7" title="Converts the relative frequency offset of HPOSC to the RF Core parameter format. ">OSC_HPOSCRelativeFrequencyOffsetToRFCoreFormatConvert()</a>, <a class="el" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57" title="Get the current temperature measurement as a signed value in Deg Celsius. ">AONBatMonTemperatureGetDegC()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="comment">// Estimate HPOSC frequency, using temperature and curve fitting parameters</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   uint32_t fitParams = HWREG(<a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET target="_blank">FCFG1_O_FREQ_OFFSET</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="comment">// Extract the P0,P1,P2 params, and sign extend them via shifting up/down</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   int32_t paramP0 = ((((int32_t) fitParams) &lt;&lt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P0 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P0_W</a> - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P0 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P0_S</a>))</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                             &gt;&gt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P0 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P0_W</a>));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   int32_t paramP1 = ((((int32_t) fitParams) &lt;&lt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P1 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P1_W</a> - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P1 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P1_S</a>))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                                             &gt;&gt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P1 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P1_W</a>));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   int32_t paramP2 = ((((int32_t) fitParams) &lt;&lt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P2 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P2_W</a> - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P2 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P2_S</a>))</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                             &gt;&gt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FREQ_OFFSET_HPOSC_COMP_P2 target="_blank">FCFG1_FREQ_OFFSET_HPOSC_COMP_P2_W</a>));</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   int32_t paramP3 = ((((int32_t) HWREG(<a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#MISC_CONF_2 target="_blank">FCFG1_O_MISC_CONF_2</a>))</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                             &lt;&lt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#MISC_CONF_2_HPOSC_COMP_P3 target="_blank">FCFG1_MISC_CONF_2_HPOSC_COMP_P3_W</a> - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#MISC_CONF_2_HPOSC_COMP_P3 target="_blank">FCFG1_MISC_CONF_2_HPOSC_COMP_P3_S</a>))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                             &gt;&gt; (32 - <a href=../register_descriptions/CPU_MMAP/FCFG1.html#MISC_CONF_2_HPOSC_COMP_P3 target="_blank">FCFG1_MISC_CONF_2_HPOSC_COMP_P3_W</a>));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="comment">// Now we can find the HPOSC freq offset, given as a signed variable d, expressed by:</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="comment">//    F_HPOSC = F_nom * (1 + d/(2^22))    , where: F_HPOSC = HPOSC frequency</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="comment">//                                                 F_nom = nominal clock source frequency (e.g. 48.000 MHz)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="comment">//                                                 d = describes relative freq offset</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="comment">// We can estimate the d variable, using temperature compensation parameters:</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <span class="comment">//    d = P0 + P1*(t - T0) + P2*(t - T0)^2 + P3*(t - T0)^3, where: P0,P1,P2,P3 are curve fitting parameters from FCFG1</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">//                                                 t = current temperature (from temp sensor) in deg C</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="comment">//                                                 T0 = 27 deg C (fixed temperature constant)</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   int32_t tempDelta = (tempDegC - 27);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   int32_t tempDeltaX2 = tempDelta * tempDelta;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   int32_t d = paramP0 + ((tempDelta*paramP1)&gt;&gt;3) + ((tempDeltaX2*paramP2)&gt;&gt;10) + ((tempDeltaX2*tempDelta*paramP3)&gt;&gt;18);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">return</span> ( d );</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4117910cda25374e78214e2b632102a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t OSC_HPOSCRelativeFrequencyOffsetToRFCoreFormatConvert </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>HPOSC_RelFreqOffset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the relative frequency offset of HPOSC to the RF Core parameter format. </p>
<p>The HPOSC (High Precision Oscillator) clock is used by the RF Core. To compensate for a frequency offset in the frequency of the clock source, a frequency offset parameter can be provided as part of the radio configuration override setting list to enable compensation of the RF synthesizer frequency, symbol timing, and radio timer to still achieve correct frequencies.</p>
<p>The RF Core takes a relative frequency offset parameter defined differently compared to the relative frequency offset parameter returned from function <a class="el" href="group__osc__api.html#ga5d974140ed2a25ffbb5dd851c63cbb8d">OSC_HPOSCRelativeFrequencyOffsetGet()</a> and thus needs to be converted: </p><pre>
    F_nom = F_HPOSC * (1 + RfCoreRelFreqOffset/(2^22))
</pre><p> where</p><ul>
<li>F_nom is the nominal oscillator frequency, assumed to be 48.000 MHz.</li>
<li>F_HPOSC is the current HPOSC frequency.</li>
<li>RfCoreRelFreqOffset is the relative frequency offset in the "RF Core" format (the value returned).</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Returns the relative frequency offset in RF Core format.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga5d974140ed2a25ffbb5dd851c63cbb8d" title="Calculate the temperature dependent relative frequency offset of HPOSC. ">OSC_HPOSCRelativeFrequencyOffsetGet()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="comment">// The input argument, hereby referred to simply as &quot;d&quot;, describes the frequency offset</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="comment">// of the HPOSC relative to the nominal frequency in this way:</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="comment">//    F_HPOSC = F_nom * (1 + d/(2^22))</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="comment">// But for use by the radio, to compensate the frequency error, we need to find the</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="comment">// frequency offset &quot;rfcFreqOffset&quot; defined in the following format:</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="comment">//    F_nom = F_HPOSC * (1 + rfCoreFreqOffset/(2^22))</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="comment">// To derive &quot;rfCoreFreqOffset&quot; from &quot;d&quot; we combine the two above equations and get:</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <span class="comment">//    (1 + rfCoreFreqOffset/(2^22)) = (1 + d/(2^22))^-1</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="comment">// Which can be rewritten into:</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="comment">//    rfCoreFreqOffset = -d*(2^22) / ((2^22) + d)</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <span class="comment">//               = -d * [ 1 / (1 + d/(2^22)) ]</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="comment">// To avoid doing a 64-bit division due to the (1 + d/(2^22))^-1 expression,</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="comment">// we can use Taylor series (Maclaurin series) to approximate it:</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="comment">//       1 / (1 - x) ~= 1 + x + x^2 + x^3 + x^4 + ... etc      (Maclaurin series)</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="comment">// In our case, we have x = - d/(2^22), and we only include up to the first</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="comment">// order term of the series, as the second order term ((d^2)/(2^44)) is very small:</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="comment">//       freqError ~= -d + d^2/(2^22)   (+ small approximation error)</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="comment">//</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="comment">// The approximation error is negligible for our use.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   int32_t rfCoreFreqOffset = -HPOSC_RelFreqOffset + (( HPOSC_RelFreqOffset * HPOSC_RelFreqOffset ) &gt;&gt; 22 );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">return</span> ( rfCoreFreqOffset );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8c7823a2f4fc61456f576bf472ed2308"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSCClockLossEventDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables OSC clock loss event detection. </p>
<p>Disabling the OSC clock loss event does also clear the clock loss event flag.</p>
<dl class="section note"><dt>Note</dt><dd>OSC clock loss event must be disabled before SCLK_LF clock source is changed (by calling <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>) and remain disabled until the change is confirmed (by calling <a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet()</a>).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga466c89b836c6b60214fec5b5e8e0719d">OSCClockLossEventEnable()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a>( <a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_CLK_LOSS_EN target="_blank">DDI_0_OSC_CTL0_CLK_LOSS_EN_M</a>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_CLK_LOSS_EN target="_blank">DDI_0_OSC_CTL0_CLK_LOSS_EN_S</a>, 0 );</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="ttc" id="group__ddi__api_html_ga492326c095c70621a247fe02a2cb09e4"><div class="ttname"><a href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a></div><div class="ttdeci">void DDI16BitfieldWrite(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32Shift, uint16_t ui32Data)</div><div class="ttdoc">Write a bit field via the DDI using 16-bit maskable write. </div><div class="ttdef"><b>Definition:</b> ddi.c:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga8c7823a2f4fc61456f576bf472ed2308_cgraph.png" border="0" usemap="#group__osc__api_ga8c7823a2f4fc61456f576bf472ed2308_cgraph" alt=""/></div>
<map name="group__osc__api_ga8c7823a2f4fc61456f576bf472ed2308_cgraph" id="group__osc__api_ga8c7823a2f4fc61456f576bf472ed2308_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="240,31,367,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="415,31,555,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="603,5,683,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="603,56,683,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga466c89b836c6b60214fec5b5e8e0719d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSCClockLossEventEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enables OSC clock loss event detection. </p>
<p>Enables the clock loss event flag to be raised if a clock loss is detected.</p>
<dl class="section note"><dt>Note</dt><dd>OSC clock loss event must be disabled before SCLK_LF clock source is changed (by calling <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>) and remain disabled until the change is confirmed (by calling <a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet()</a>).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga8c7823a2f4fc61456f576bf472ed2308">OSCClockLossEventDisable()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a>( <a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_CLK_LOSS_EN target="_blank">DDI_0_OSC_CTL0_CLK_LOSS_EN_M</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_CLK_LOSS_EN target="_blank">DDI_0_OSC_CTL0_CLK_LOSS_EN_S</a>, 1 );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="group__ddi__api_html_ga492326c095c70621a247fe02a2cb09e4"><div class="ttname"><a href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a></div><div class="ttdeci">void DDI16BitfieldWrite(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32Shift, uint16_t ui32Data)</div><div class="ttdoc">Write a bit field via the DDI using 16-bit maskable write. </div><div class="ttdef"><b>Definition:</b> ddi.c:117</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga466c89b836c6b60214fec5b5e8e0719d_cgraph.png" border="0" usemap="#group__osc__api_ga466c89b836c6b60214fec5b5e8e0719d_cgraph" alt=""/></div>
<map name="group__osc__api_ga466c89b836c6b60214fec5b5e8e0719d_cgraph" id="group__osc__api_ga466c89b836c6b60214fec5b5e8e0719d_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="236,31,363,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="411,31,551,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="599,5,679,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="599,56,679,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga279bd3a34548bd4c5e2fc6939f7be228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OSCClockSourceGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SrcClk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the source clock settings. </p>
<p>Use this function to get the oscillator source for one of the system source clocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SrcClk</td><td>is the source clock to check.<ul>
<li><a class="el" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></li>
<li><a class="el" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a></li>
<li><a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the type of oscillator that drives the clock source.<ul>
<li><a class="el" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a></li>
<li><a class="el" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a></li>
<li><a class="el" href="group__osc__api.html#ga77f1adccd50f1b219d9657ba2ac7dd9b">OSC_RCOSC_LF</a></li>
<li><a class="el" href="group__osc__api.html#ga6502b0b712473f2ec7a4112cda0725bb">OSC_XOSC_LF</a></li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, <a class="el" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch()</a> </dd></dl>

<p>Referenced by <a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc()</a>, <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    uint32_t ui32ClockSource;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32SrcClk &amp; <a class="code" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>) ||</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;           (ui32SrcClk &amp; <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Return the source for the selected clock.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span>(ui32SrcClk == OSC_SRC_CLK_LF)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        ui32ClockSource = <a class="code" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4">DDI16BitfieldRead</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0 target="_blank">DDI_0_OSC_O_STAT0</a>,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                            <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_SCLK_LF_SRC target="_blank">DDI_0_OSC_STAT0_SCLK_LF_SRC_M</a>,</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                            <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_SCLK_LF_SRC target="_blank">DDI_0_OSC_STAT0_SCLK_LF_SRC_S</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        ui32ClockSource = <a class="code" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4">DDI16BitfieldRead</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0 target="_blank">DDI_0_OSC_O_STAT0</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                            <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_SCLK_HF_SRC target="_blank">DDI_0_OSC_STAT0_SCLK_HF_SRC_M</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                            <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_SCLK_HF_SRC target="_blank">DDI_0_OSC_STAT0_SCLK_HF_SRC_S</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> (ui32ClockSource);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_gac53cc71494c69f6f486be9b3b0566b83"><div class="ttname"><a href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></div><div class="ttdeci">#define OSC_SRC_CLK_HF</div><div class="ttdef"><b>Definition:</b> osc.h:112</div></div>
<div class="ttc" id="group__osc__api_html_gac57298ac9008f605f9b2c70609790bab"><div class="ttname"><a href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a></div><div class="ttdeci">#define OSC_SRC_CLK_LF</div><div class="ttdef"><b>Definition:</b> osc.h:114</div></div>
<div class="ttc" id="group__ddi__api_html_gac86ccf0590b9dbdc88eb1a6c856c78a4"><div class="ttname"><a href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4">DDI16BitfieldRead</a></div><div class="ttdeci">uint16_t DDI16BitfieldRead(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32Shift)</div><div class="ttdoc">Read a bitfield via the DDI using 16-bit read. </div><div class="ttdef"><b>Definition:</b> ddi.c:185</div></div>
<div class="ttc" id="group__debug__api_html_ga28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> debug.h:73</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga279bd3a34548bd4c5e2fc6939f7be228_cgraph.png" border="0" usemap="#group__osc__api_ga279bd3a34548bd4c5e2fc6939f7be228_cgraph" alt=""/></div>
<map name="group__osc__api_ga279bd3a34548bd4c5e2fc6939f7be228_cgraph" id="group__osc__api_ga279bd3a34548bd4c5e2fc6939f7be228_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4" title="Read a bitfield via the DDI using 16&#45;bit read. " alt="" coords="199,31,325,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44" title="Safely read from AUX ADI/DDI interfaces using a semaphore. " alt="" coords="373,31,512,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="560,5,640,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="560,56,640,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga37a02687fbd8680396550f682a7f046f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSCClockSourceSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SrcClk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Osc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the oscillator input to the a source clock. </p>
<p>Use this function to set the oscillator source for one or more of the system source clocks.</p>
<p>When selecting the high frequency clock source, this function will not do the actual switch. Enabling the high frequency XTAL can take several hundred micro seconds, so the actual switch is split into a separate function, leaving System CPU free to perform other tasks as the XTAL starts up.</p>
<dl class="section note"><dt>Note</dt><dd>The High Frequency (<a class="el" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a>) and Medium Frequency (<a class="el" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>) can only be derived from the high frequency oscillator. The Low Frequency source clock (<a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>) can be derived from all 4 oscillators.</dd>
<dd>
If enabling <a class="el" href="group__osc__api.html#ga6502b0b712473f2ec7a4112cda0725bb">OSC_XOSC_LF</a> it is not safe to go to powerdown/shutdown until the LF clock is running which can be checked using <a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet()</a>.</dd>
<dd>
Clock loss reset generation must be disabled before SCLK_LF (<a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>) clock source is changed and remain disabled until the change is confirmed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SrcClk</td><td>is the source clocks to configure.<ul>
<li><a class="el" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></li>
<li><a class="el" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a></li>
<li><a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a> </li>
</ul>
</td></tr>
    <tr><td class="paramname">ui32Osc</td><td>is the oscillator that drives the source clock.<ul>
<li><a class="el" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a></li>
<li><a class="el" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a></li>
<li><a class="el" href="group__osc__api.html#ga77f1adccd50f1b219d9657ba2ac7dd9b">OSC_RCOSC_LF</a> (only when ui32SrcClk is <a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>)</li>
<li><a class="el" href="group__osc__api.html#ga6502b0b712473f2ec7a4112cda0725bb">OSC_XOSC_LF</a> (only when ui32SrcClk is <a class="el" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228" title="Get the source clock settings. ">OSCClockSourceGet()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Referenced by <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>, <a class="el" href="group__osc__api.html#gaee5a511c4ca70e8eb66f4a6252488506">OSCHF_TurnOnXosc()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32SrcClk &amp; <a class="code" href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a>) ||</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;           (ui32SrcClk &amp; <a class="code" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>) ||</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;           (ui32SrcClk &amp; <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a>));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Osc == <a class="code" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a>) ||</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;           (ui32Osc == <a class="code" href="group__osc__api.html#ga77f1adccd50f1b219d9657ba2ac7dd9b">OSC_RCOSC_LF</a>) ||</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;           (ui32Osc == <a class="code" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a>) ||</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;           (ui32Osc == <a class="code" href="group__osc__api.html#ga6502b0b712473f2ec7a4112cda0725bb">OSC_XOSC_LF</a>));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Request the high frequency source clock (using 24 MHz XTAL)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span>(ui32SrcClk &amp; <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// Enable the HF XTAL as HF clock source</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_HF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_HF_SRC_SEL_M</a>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_HF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_HF_SRC_SEL_S</a>,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                           ui32Osc);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// Configure the medium frequency source clock</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span>(ui32SrcClk &amp; OSC_SRC_CLK_MF)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_MF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_MF_SRC_SEL_M</a>,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_MF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_MF_SRC_SEL_S</a>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                           ui32Osc);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// Configure the low frequency source clock.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>(ui32SrcClk &amp; OSC_SRC_CLK_LF)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">// Change the clock source.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_LF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_LF_SRC_SEL_M</a>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                           <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_SCLK_LF_SRC_SEL target="_blank">DDI_0_OSC_CTL0_SCLK_LF_SRC_SEL_S</a>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                           ui32Osc);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_ga3791959ca0a46e15b1b8d0d6c23af66d"><div class="ttname"><a href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a></div><div class="ttdeci">#define OSC_SRC_CLK_MF</div><div class="ttdef"><b>Definition:</b> osc.h:113</div></div>
<div class="ttc" id="group__ddi__api_html_ga492326c095c70621a247fe02a2cb09e4"><div class="ttname"><a href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4">DDI16BitfieldWrite</a></div><div class="ttdeci">void DDI16BitfieldWrite(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32Shift, uint16_t ui32Data)</div><div class="ttdoc">Write a bit field via the DDI using 16-bit maskable write. </div><div class="ttdef"><b>Definition:</b> ddi.c:117</div></div>
<div class="ttc" id="group__osc__api_html_gac53cc71494c69f6f486be9b3b0566b83"><div class="ttname"><a href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></div><div class="ttdeci">#define OSC_SRC_CLK_HF</div><div class="ttdef"><b>Definition:</b> osc.h:112</div></div>
<div class="ttc" id="group__osc__api_html_ga69c226c32f77c516b33207cc23179c34"><div class="ttname"><a href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a></div><div class="ttdeci">#define OSC_RCOSC_HF</div><div class="ttdef"><b>Definition:</b> osc.h:116</div></div>
<div class="ttc" id="group__osc__api_html_gaa167a08c9239cfcfefb8c35bf984ce8b"><div class="ttname"><a href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a></div><div class="ttdeci">#define OSC_XOSC_HF</div><div class="ttdef"><b>Definition:</b> osc.h:117</div></div>
<div class="ttc" id="group__osc__api_html_gac57298ac9008f605f9b2c70609790bab"><div class="ttname"><a href="group__osc__api.html#gac57298ac9008f605f9b2c70609790bab">OSC_SRC_CLK_LF</a></div><div class="ttdeci">#define OSC_SRC_CLK_LF</div><div class="ttdef"><b>Definition:</b> osc.h:114</div></div>
<div class="ttc" id="group__debug__api_html_ga28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> debug.h:73</div></div>
<div class="ttc" id="group__osc__api_html_ga77f1adccd50f1b219d9657ba2ac7dd9b"><div class="ttname"><a href="group__osc__api.html#ga77f1adccd50f1b219d9657ba2ac7dd9b">OSC_RCOSC_LF</a></div><div class="ttdeci">#define OSC_RCOSC_LF</div><div class="ttdef"><b>Definition:</b> osc.h:118</div></div>
<div class="ttc" id="group__osc__api_html_ga6502b0b712473f2ec7a4112cda0725bb"><div class="ttname"><a href="group__osc__api.html#ga6502b0b712473f2ec7a4112cda0725bb">OSC_XOSC_LF</a></div><div class="ttdeci">#define OSC_XOSC_LF</div><div class="ttdef"><b>Definition:</b> osc.h:119</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga37a02687fbd8680396550f682a7f046f_cgraph.png" border="0" usemap="#group__osc__api_ga37a02687fbd8680396550f682a7f046f_cgraph" alt=""/></div>
<map name="group__osc__api_ga37a02687fbd8680396550f682a7f046f_cgraph" id="group__osc__api_ga37a02687fbd8680396550f682a7f046f_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="197,31,324,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="372,31,512,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="560,5,640,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="560,56,640,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga47914d2750ee826560f2107a567bb1a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSCHF_AttemptToSwitchToXosc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch to XOSC_HF if XOSC_HF is ready. </p>
<p>This is a non-blocking function checking if the XOSC_HF is ready and performs the switching if ready. The function is somewhat blocking in the case where switching is performed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns status of the XOSC_HF switching:<ul>
<li><code>true</code> : Switching to XOSC_HF has occurred.</li>
<li><code>false</code> : Switching has not occurred. </li>
</ul>
</dd></dl>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   uint32_t startupTimeInUs;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   uint32_t prevLimmit25InUs;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#if ( defined( ROM_OSCClockSourceGet ))</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">if</span> ( ROM_OSCClockSourceGet( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> ) == <a class="code" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a> )</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet</a>( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> ) == <a class="code" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a> )</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="comment">// Already on XOSC - nothing to do</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="group__osc__api.html#gae135dfece97e821338b93c4b32bc6980">OSCHfSourceReady</a>()) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch</a>();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// Store startup time, but limit to 25 percent reduction each time.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">timeXoscStable_CV</a>  = <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      startupTimeInUs   = <a class="code" href="osc_8c.html#a6abf7e6bb075a2cba1441a8c27ba2528">RTC_CV_TO_US</a>( <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">timeXoscStable_CV</a> - <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">timeXoscOn_CV</a> );</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      prevLimmit25InUs  = <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      prevLimmit25InUs -= ( prevLimmit25InUs &gt;&gt; 2 ); <span class="comment">// 25 percent margin</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a> = startupTimeInUs;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">if</span> ( prevLimmit25InUs &gt; startupTimeInUs ) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a> = prevLimmit25InUs;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_gac21e7c4532672c8fa7b90e493359ddc2"><div class="ttname"><a href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch</a></div><div class="ttdeci">static void OSCHfSourceSwitch(void)</div><div class="ttdoc">Switch the high frequency clock. </div><div class="ttdef"><b>Definition:</b> osc.h:314</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a43106e40eca3081e3964e8c87eddd8f1"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">OscHfGlobals_t::timeXoscStable_CV</a></div><div class="ttdeci">uint32_t timeXoscStable_CV</div><div class="ttdef"><b>Definition:</b> osc.c:88</div></div>
<div class="ttc" id="group__osc__api_html_ga279bd3a34548bd4c5e2fc6939f7be228"><div class="ttname"><a href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet</a></div><div class="ttdeci">uint32_t OSCClockSourceGet(uint32_t ui32SrcClk)</div><div class="ttdoc">Get the source clock settings. </div><div class="ttdef"><b>Definition:</b> osc.c:147</div></div>
<div class="ttc" id="group__osc__api_html_gac53cc71494c69f6f486be9b3b0566b83"><div class="ttname"><a href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></div><div class="ttdeci">#define OSC_SRC_CLK_HF</div><div class="ttdef"><b>Definition:</b> osc.h:112</div></div>
<div class="ttc" id="group__osc__api_html_gae135dfece97e821338b93c4b32bc6980"><div class="ttname"><a href="group__osc__api.html#gae135dfece97e821338b93c4b32bc6980">OSCHfSourceReady</a></div><div class="ttdeci">static bool OSCHfSourceReady(void)</div><div class="ttdoc">Check if the HF clock source is ready to be switched. </div><div class="ttdef"><b>Definition:</b> osc.h:286</div></div>
<div class="ttc" id="group__osc__api_html_gaa167a08c9239cfcfefb8c35bf984ce8b"><div class="ttname"><a href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a></div><div class="ttdeci">#define OSC_XOSC_HF</div><div class="ttdef"><b>Definition:</b> osc.h:117</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a9c9e6f187f285a033cb14ae968738c83"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">OscHfGlobals_t::previousStartupTimeInUs</a></div><div class="ttdeci">uint32_t previousStartupTimeInUs</div><div class="ttdef"><b>Definition:</b> osc.c:85</div></div>
<div class="ttc" id="osc_8c_html_a29d04b8c698d597cbfe1df302c157412"><div class="ttname"><a href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a></div><div class="ttdeci">static OscHfGlobals_t oscHfGlobals</div><div class="ttdef"><b>Definition:</b> osc.c:92</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_adf8bf929c47abf13770b3e60cab4ed2d"><div class="ttname"><a href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">OscHfGlobals_t::timeXoscOn_CV</a></div><div class="ttdeci">uint32_t timeXoscOn_CV</div><div class="ttdef"><b>Definition:</b> osc.c:87</div></div>
<div class="ttc" id="osc_8c_html_a6abf7e6bb075a2cba1441a8c27ba2528"><div class="ttname"><a href="osc_8c.html#a6abf7e6bb075a2cba1441a8c27ba2528">RTC_CV_TO_US</a></div><div class="ttdeci">#define RTC_CV_TO_US(x)</div><div class="ttdef"><b>Definition:</b> osc.c:82</div></div>
<div class="ttc" id="group__aonrtc__api_html_gaab6fd87d7bbf5e8f2575504d2d5c1afa"><div class="ttname"><a href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a></div><div class="ttdeci">uint32_t AONRTCCurrentCompareValueGet(void)</div><div class="ttdoc">Get the current value of the RTC counter in a format that matches RTC compare values. </div><div class="ttdef"><b>Definition:</b> aon_rtc.c:62</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga47914d2750ee826560f2107a567bb1a4_cgraph.png" border="0" usemap="#group__osc__api_ga47914d2750ee826560f2107a567bb1a4_cgraph" alt=""/></div>
<map name="group__osc__api_ga47914d2750ee826560f2107a567bb1a4_cgraph" id="group__osc__api_ga47914d2750ee826560f2107a567bb1a4_cgraph">
<area shape="rect" id="node2" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228" title="Get the source clock settings. " alt="" coords="305,5,451,32"/>
<area shape="rect" id="node7" href="group__osc__api.html#gae135dfece97e821338b93c4b32bc6980" title="Check if the HF clock source is ready to be switched. " alt="" coords="308,56,448,83"/>
<area shape="rect" id="node8" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2" title="Switch the high frequency clock. " alt="" coords="307,107,449,133"/>
<area shape="rect" id="node9" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa" title="Get the current value of the RTC counter in a format that matches RTC compare values. " alt="" coords="267,157,489,184"/>
<area shape="rect" id="node3" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4" title="Read a bitfield via the DDI using 16&#45;bit read. " alt="" coords="537,31,664,57"/>
<area shape="rect" id="node4" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44" title="Safely read from AUX ADI/DDI interfaces using a semaphore. " alt="" coords="712,31,851,57"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="899,5,979,32"/>
<area shape="rect" id="node6" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="899,56,979,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga33e3c6c58c877cfa2be8221148ed1885"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OSCHF_DebugGetCrystalAmplitude </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get crystal amplitude (assuming crystal is running). </p>
<dl class="section note"><dt>Note</dt><dd>This is a debug function only. It is hence not recommended to call this function in normal operation.</dd></dl>
<p>This function uses an on-chip ADC and peak detector for reading the crystal amplitude. The measurement time is set to 4 milliseconds and this function does not return before the measurement is done.</p>
<p>Expected value is <a class="el" href="group__osc__api.html#ga19ebf81100cd985a838276260fde3cab">OSCHF_DebugGetExpectedAverageCrystalAmplitude</a> +/- 50 millivolt.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns crystal amplitude in millivolt.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga19ebf81100cd985a838276260fde3cab" title="Get the expected average crystal amplitude. ">OSCHF_DebugGetExpectedAverageCrystalAmplitude()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   uint32_t oscCfgRegCopy  ;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   uint32_t startTime      ;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   uint32_t deltaTime      ;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   uint32_t ampValue       ;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="comment">// The specified method is as follows:</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="comment">// 1. Set minimum interval between oscillator amplitude calibrations.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="comment">//    (Done by setting PER_M=0 and PER_E=1)</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="comment">// 2. Wait approximately 4 milliseconds in order to measure over a</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <span class="comment">//    moderately large number of calibrations.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="comment">// 3. Read out the crystal amplitude value from the peek detector.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="comment">// 4. Restore original oscillator amplitude calibrations interval.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <span class="comment">// 5. Return crystal amplitude value converted to millivolt.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   oscCfgRegCopy = HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#OSCCFG target="_blank">AON_WUC_O_OSCCFG</a> );</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#OSCCFG target="_blank">AON_WUC_O_OSCCFG</a> ) = ( 1 &lt;&lt; <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#OSCCFG_PER_E target="_blank">AON_WUC_OSCCFG_PER_E_S</a> );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   startTime = <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      deltaTime = <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>() - startTime;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   } <span class="keywordflow">while</span> ( deltaTime &lt; ((uint32_t)( 0.004 * <a class="code" href="group__aonrtc__api.html#ga7457aa34a5d138ac55039527a61b9174">FACTOR_SEC_TO_COMP_VAL_FORMAT</a> )));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   ampValue = ( HWREG( <a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a> + <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT1 target="_blank">DDI_0_OSC_O_STAT1</a> ) &amp;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT1_HPM_UPDATE_AMP target="_blank">DDI_0_OSC_STAT1_HPM_UPDATE_AMP_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT1_HPM_UPDATE_AMP target="_blank">DDI_0_OSC_STAT1_HPM_UPDATE_AMP_S</a> ;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   HWREG( <a href=../register_descriptions/CPU_MMAP/AON_WUC.html target="_blank">AON_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_WUC.html#OSCCFG target="_blank">AON_WUC_O_OSCCFG</a> ) = oscCfgRegCopy;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">return</span> ( ampValue * 15 );</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="ttc" id="group__aonrtc__api_html_ga7457aa34a5d138ac55039527a61b9174"><div class="ttname"><a href="group__aonrtc__api.html#ga7457aa34a5d138ac55039527a61b9174">FACTOR_SEC_TO_COMP_VAL_FORMAT</a></div><div class="ttdeci">#define FACTOR_SEC_TO_COMP_VAL_FORMAT</div><div class="ttdef"><b>Definition:</b> aon_rtc.h:151</div></div>
<div class="ttc" id="group__aonrtc__api_html_gaab6fd87d7bbf5e8f2575504d2d5c1afa"><div class="ttname"><a href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a></div><div class="ttdeci">uint32_t AONRTCCurrentCompareValueGet(void)</div><div class="ttdoc">Get the current value of the RTC counter in a format that matches RTC compare values. </div><div class="ttdef"><b>Definition:</b> aon_rtc.c:62</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga33e3c6c58c877cfa2be8221148ed1885_cgraph.png" border="0" usemap="#group__osc__api_ga33e3c6c58c877cfa2be8221148ed1885_cgraph" alt=""/></div>
<map name="group__osc__api_ga33e3c6c58c877cfa2be8221148ed1885_cgraph" id="group__osc__api_ga33e3c6c58c877cfa2be8221148ed1885_cgraph">
<area shape="rect" id="node2" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa" title="Get the current value of the RTC counter in a format that matches RTC compare values. " alt="" coords="284,5,507,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga19ebf81100cd985a838276260fde3cab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OSCHF_DebugGetExpectedAverageCrystalAmplitude </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the expected average crystal amplitude. </p>
<dl class="section note"><dt>Note</dt><dd>This is a debug function only. It is hence not recommended to call this function in normal operation.</dd></dl>
<p>This function read the configured high and low thresholds and returns the mean value converted to millivolt.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns expected average crystal amplitude in millivolt.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga33e3c6c58c877cfa2be8221148ed1885" title="Get crystal amplitude (assuming crystal is running). ">OSCHF_DebugGetCrystalAmplitude()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;{</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   uint32_t ampCompTh1    ;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   uint32_t highThreshold ;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   uint32_t lowThreshold  ;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   ampCompTh1 = HWREG( <a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a> + <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#AMPCOMPTH1 target="_blank">DDI_0_OSC_O_AMPCOMPTH1</a> );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   highThreshold = ( ampCompTh1 &amp; <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#AMPCOMPTH1_HPMRAMP3_HTH target="_blank">DDI_0_OSC_AMPCOMPTH1_HPMRAMP3_HTH_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                  <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#AMPCOMPTH1_HPMRAMP3_HTH target="_blank">DDI_0_OSC_AMPCOMPTH1_HPMRAMP3_HTH_S</a> ;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   lowThreshold  = ( ampCompTh1 &amp; <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#AMPCOMPTH1_HPMRAMP3_LTH target="_blank">DDI_0_OSC_AMPCOMPTH1_HPMRAMP3_LTH_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                  <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#AMPCOMPTH1_HPMRAMP3_LTH target="_blank">DDI_0_OSC_AMPCOMPTH1_HPMRAMP3_LTH_S</a> ;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keywordflow">return</span> ((( highThreshold + lowThreshold ) * 15 ) &gt;&gt; 1 );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8f7fce82e80c984531622af61963db51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OSCHF_GetStartupTime </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeUntilWakeupInMs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns maximum startup time (in microseconds) of XOSC_HF. </p>
<p>The startup time depends on several factors. This function calculates the maximum startup time based on statistical information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeUntilWakeupInMs</td><td>indicates how long time (milliseconds) to the startup will occur.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time margin to use in microseconds. </dd></dl>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   uint32_t deltaTimeSinceXoscOnInMs   ;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   int32_t  deltaTempSinceXoscOn       ;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   uint32_t newStartupTimeInUs         ;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   deltaTimeSinceXoscOnInMs = <a class="code" href="osc_8c.html#a84e2ef2892213ad4a4f275252801369a">RTC_CV_TO_MS</a>( <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>() - <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">timeXoscOn_CV</a> );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   deltaTempSinceXoscOn     = <a class="code" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a>() - <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a86e3f9dff9438f95befcd789ccbdf1fa">tempXoscOff</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">if</span> ( deltaTempSinceXoscOn &lt; 0 ) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      deltaTempSinceXoscOn = -deltaTempSinceXoscOn;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordflow">if</span> (  (( timeUntilWakeupInMs + deltaTimeSinceXoscOnInMs )     &gt; 3000 ) ||</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;         ( deltaTempSinceXoscOn                                  &gt;    5 ) ||</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;         ( <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">timeXoscStable_CV</a> &lt; <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">timeXoscOn_CV</a>  ) ||</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;         ( <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a>                  ==   0 )    )</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      newStartupTimeInUs = 2000;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (( HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#SIZE_AND_DIS_FLAGS target="_blank">CCFG_O_SIZE_AND_DIS_FLAGS</a> ) &amp; <a href=../register_descriptions/CPU_MMAP/CCFG.html#SIZE_AND_DIS_FLAGS_DIS_XOSC_OVR target="_blank">CCFG_SIZE_AND_DIS_FLAGS_DIS_XOSC_OVR_M</a> ) == 0 ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         newStartupTimeInUs = (( HWREG( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> + <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1 target="_blank">CCFG_O_MODE_CONF_1</a> ) &amp;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1_XOSC_MAX_START target="_blank">CCFG_MODE_CONF_1_XOSC_MAX_START_M</a> ) &gt;&gt;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a href=../register_descriptions/CPU_MMAP/CCFG.html#MODE_CONF_1_XOSC_MAX_START target="_blank">CCFG_MODE_CONF_1_XOSC_MAX_START_S</a> ) * 125;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="comment">// Note: CCFG startup time is &quot;in units of 100us&quot; adding 25% margin results in *125</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      newStartupTimeInUs = <a class="code" href="osc_8c.html#a6abf7e6bb075a2cba1441a8c27ba2528">RTC_CV_TO_US</a>( <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">timeXoscStable_CV</a> - <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">timeXoscOn_CV</a> );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      newStartupTimeInUs += ( newStartupTimeInUs &gt;&gt; 2 ); <span class="comment">// Add 25 percent margin</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">if</span> ( newStartupTimeInUs &lt; <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a> ) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         newStartupTimeInUs = <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">previousStartupTimeInUs</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keywordflow">if</span> ( newStartupTimeInUs &lt; 200 ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      newStartupTimeInUs = 200;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> ( newStartupTimeInUs &gt; 4000 ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      newStartupTimeInUs = 4000;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">return</span> ( newStartupTimeInUs );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a43106e40eca3081e3964e8c87eddd8f1"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a43106e40eca3081e3964e8c87eddd8f1">OscHfGlobals_t::timeXoscStable_CV</a></div><div class="ttdeci">uint32_t timeXoscStable_CV</div><div class="ttdef"><b>Definition:</b> osc.c:88</div></div>
<div class="ttc" id="group__aonbatmon__api_html_gadc33e3e057f96ec6fc9fff57bd64de57"><div class="ttname"><a href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a></div><div class="ttdeci">int32_t AONBatMonTemperatureGetDegC(void)</div><div class="ttdoc">Get the current temperature measurement as a signed value in Deg Celsius. </div><div class="ttdef"><b>Definition:</b> aon_batmon.c:60</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a9c9e6f187f285a033cb14ae968738c83"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a9c9e6f187f285a033cb14ae968738c83">OscHfGlobals_t::previousStartupTimeInUs</a></div><div class="ttdeci">uint32_t previousStartupTimeInUs</div><div class="ttdef"><b>Definition:</b> osc.c:85</div></div>
<div class="ttc" id="osc_8c_html_a29d04b8c698d597cbfe1df302c157412"><div class="ttname"><a href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a></div><div class="ttdeci">static OscHfGlobals_t oscHfGlobals</div><div class="ttdef"><b>Definition:</b> osc.c:92</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a86e3f9dff9438f95befcd789ccbdf1fa"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a86e3f9dff9438f95befcd789ccbdf1fa">OscHfGlobals_t::tempXoscOff</a></div><div class="ttdeci">int32_t tempXoscOff</div><div class="ttdef"><b>Definition:</b> osc.c:89</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_adf8bf929c47abf13770b3e60cab4ed2d"><div class="ttname"><a href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">OscHfGlobals_t::timeXoscOn_CV</a></div><div class="ttdeci">uint32_t timeXoscOn_CV</div><div class="ttdef"><b>Definition:</b> osc.c:87</div></div>
<div class="ttc" id="osc_8c_html_a6abf7e6bb075a2cba1441a8c27ba2528"><div class="ttname"><a href="osc_8c.html#a6abf7e6bb075a2cba1441a8c27ba2528">RTC_CV_TO_US</a></div><div class="ttdeci">#define RTC_CV_TO_US(x)</div><div class="ttdef"><b>Definition:</b> osc.c:82</div></div>
<div class="ttc" id="group__aonrtc__api_html_gaab6fd87d7bbf5e8f2575504d2d5c1afa"><div class="ttname"><a href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a></div><div class="ttdeci">uint32_t AONRTCCurrentCompareValueGet(void)</div><div class="ttdoc">Get the current value of the RTC counter in a format that matches RTC compare values. </div><div class="ttdef"><b>Definition:</b> aon_rtc.c:62</div></div>
<div class="ttc" id="osc_8c_html_a84e2ef2892213ad4a4f275252801369a"><div class="ttname"><a href="osc_8c.html#a84e2ef2892213ad4a4f275252801369a">RTC_CV_TO_MS</a></div><div class="ttdeci">#define RTC_CV_TO_MS(x)</div><div class="ttdef"><b>Definition:</b> osc.c:81</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga8f7fce82e80c984531622af61963db51_cgraph.png" border="0" usemap="#group__osc__api_ga8f7fce82e80c984531622af61963db51_cgraph" alt=""/></div>
<map name="group__osc__api_ga8f7fce82e80c984531622af61963db51_cgraph" id="group__osc__api_ga8f7fce82e80c984531622af61963db51_cgraph">
<area shape="rect" id="node2" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa" title="Get the current value of the RTC counter in a format that matches RTC compare values. " alt="" coords="219,5,441,32"/>
<area shape="rect" id="node3" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57" title="Get the current temperature measurement as a signed value in Deg Celsius. " alt="" coords="221,56,439,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9eeb99e769d9c911305ff4c3c33c736c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSCHF_SwitchToRcOscTurnOffXosc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch to RCOSC_HF and turn off XOSC_HF. </p>
<p>This operation takes approximately 50 microseconds (can be shorter if RCOSC_HF already was running).</p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="comment">// Set SCLK_HF and SCLK_MF to RCOSC_HF without checking</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="comment">// Doing this anyway to keep HF and MF in sync</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#if ( defined( ROM_OSCClockSourceSet ))</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   ROM_OSCClockSourceSet( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> | <a class="code" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>, <a class="code" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a> );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <a class="code" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet</a>( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> | <a class="code" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>, <a class="code" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a> );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="comment">// Do the switching if not already running on RCOSC_HF</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#if ( defined( ROM_OSCClockSourceGet ))</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">if</span> ( ROM_OSCClockSourceGet( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> ) != <a class="code" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a> )</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keywordflow">if</span> ( <a class="code" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet</a>( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> ) != <a class="code" href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a> )</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch</a>();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#aaee7735d88f4a6305eaab839196fa388">timeXoscOff_CV</a>  = <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#a86e3f9dff9438f95befcd789ccbdf1fa">tempXoscOff</a>     = <a class="code" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_gac21e7c4532672c8fa7b90e493359ddc2"><div class="ttname"><a href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch</a></div><div class="ttdeci">static void OSCHfSourceSwitch(void)</div><div class="ttdoc">Switch the high frequency clock. </div><div class="ttdef"><b>Definition:</b> osc.h:314</div></div>
<div class="ttc" id="group__osc__api_html_ga3791959ca0a46e15b1b8d0d6c23af66d"><div class="ttname"><a href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a></div><div class="ttdeci">#define OSC_SRC_CLK_MF</div><div class="ttdef"><b>Definition:</b> osc.h:113</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_aaee7735d88f4a6305eaab839196fa388"><div class="ttname"><a href="struct_osc_hf_globals__t.html#aaee7735d88f4a6305eaab839196fa388">OscHfGlobals_t::timeXoscOff_CV</a></div><div class="ttdeci">uint32_t timeXoscOff_CV</div><div class="ttdef"><b>Definition:</b> osc.c:86</div></div>
<div class="ttc" id="group__aonbatmon__api_html_gadc33e3e057f96ec6fc9fff57bd64de57"><div class="ttname"><a href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57">AONBatMonTemperatureGetDegC</a></div><div class="ttdeci">int32_t AONBatMonTemperatureGetDegC(void)</div><div class="ttdoc">Get the current temperature measurement as a signed value in Deg Celsius. </div><div class="ttdef"><b>Definition:</b> aon_batmon.c:60</div></div>
<div class="ttc" id="group__osc__api_html_ga279bd3a34548bd4c5e2fc6939f7be228"><div class="ttname"><a href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet</a></div><div class="ttdeci">uint32_t OSCClockSourceGet(uint32_t ui32SrcClk)</div><div class="ttdoc">Get the source clock settings. </div><div class="ttdef"><b>Definition:</b> osc.c:147</div></div>
<div class="ttc" id="group__osc__api_html_gac53cc71494c69f6f486be9b3b0566b83"><div class="ttname"><a href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></div><div class="ttdeci">#define OSC_SRC_CLK_HF</div><div class="ttdef"><b>Definition:</b> osc.h:112</div></div>
<div class="ttc" id="group__osc__api_html_ga69c226c32f77c516b33207cc23179c34"><div class="ttname"><a href="group__osc__api.html#ga69c226c32f77c516b33207cc23179c34">OSC_RCOSC_HF</a></div><div class="ttdeci">#define OSC_RCOSC_HF</div><div class="ttdef"><b>Definition:</b> osc.h:116</div></div>
<div class="ttc" id="osc_8c_html_a29d04b8c698d597cbfe1df302c157412"><div class="ttname"><a href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a></div><div class="ttdeci">static OscHfGlobals_t oscHfGlobals</div><div class="ttdef"><b>Definition:</b> osc.c:92</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_a86e3f9dff9438f95befcd789ccbdf1fa"><div class="ttname"><a href="struct_osc_hf_globals__t.html#a86e3f9dff9438f95befcd789ccbdf1fa">OscHfGlobals_t::tempXoscOff</a></div><div class="ttdeci">int32_t tempXoscOff</div><div class="ttdef"><b>Definition:</b> osc.c:89</div></div>
<div class="ttc" id="group__aonrtc__api_html_gaab6fd87d7bbf5e8f2575504d2d5c1afa"><div class="ttname"><a href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a></div><div class="ttdeci">uint32_t AONRTCCurrentCompareValueGet(void)</div><div class="ttdoc">Get the current value of the RTC counter in a format that matches RTC compare values. </div><div class="ttdef"><b>Definition:</b> aon_rtc.c:62</div></div>
<div class="ttc" id="group__osc__api_html_ga37a02687fbd8680396550f682a7f046f"><div class="ttname"><a href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet</a></div><div class="ttdeci">void OSCClockSourceSet(uint32_t ui32SrcClk, uint32_t ui32Osc)</div><div class="ttdoc">Configure the oscillator input to the a source clock. </div><div class="ttdef"><b>Definition:</b> osc.c:100</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga9eeb99e769d9c911305ff4c3c33c736c_cgraph.png" border="0" usemap="#group__osc__api_ga9eeb99e769d9c911305ff4c3c33c736c_cgraph" alt=""/></div>
<map name="group__osc__api_ga9eeb99e769d9c911305ff4c3c33c736c_cgraph" id="group__osc__api_ga9eeb99e769d9c911305ff4c3c33c736c_cgraph">
<area shape="rect" id="node2" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f" title="Configure the oscillator input to the a source clock. " alt="" coords="327,5,471,32"/>
<area shape="rect" id="node7" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228" title="Get the source clock settings. " alt="" coords="327,56,472,83"/>
<area shape="rect" id="node10" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2" title="Switch the high frequency clock. " alt="" coords="328,107,471,133"/>
<area shape="rect" id="node11" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa" title="Get the current value of the RTC counter in a format that matches RTC compare values. " alt="" coords="288,157,511,184"/>
<area shape="rect" id="node12" href="group__aonbatmon__api.html#gadc33e3e057f96ec6fc9fff57bd64de57" title="Get the current temperature measurement as a signed value in Deg Celsius. " alt="" coords="290,208,509,235"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="559,5,685,32"/>
<area shape="rect" id="node4" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="733,5,873,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="921,5,1001,32"/>
<area shape="rect" id="node6" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="921,56,1001,83"/>
<area shape="rect" id="node8" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4" title="Read a bitfield via the DDI using 16&#45;bit read. " alt="" coords="559,56,685,83"/>
<area shape="rect" id="node9" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44" title="Safely read from AUX ADI/DDI interfaces using a semaphore. " alt="" coords="734,56,873,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaee5a511c4ca70e8eb66f4a6252488506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSCHF_TurnOnXosc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns on XOSC_HF (but without switching to XOSC_HF). </p>
<p>This function simply indicates the need for XOSC_HF to the hardware which initiates the XOSC_HF startup.</p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#if ( defined( ROM_OSCClockSourceSet ))</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   ROM_OSCClockSourceSet( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> | <a class="code" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>, <a class="code" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a> );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <a class="code" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet</a>( <a class="code" href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a> | <a class="code" href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a>, <a class="code" href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a> );</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a>.<a class="code" href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">timeXoscOn_CV</a>  = <a class="code" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_ga3791959ca0a46e15b1b8d0d6c23af66d"><div class="ttname"><a href="group__osc__api.html#ga3791959ca0a46e15b1b8d0d6c23af66d">OSC_SRC_CLK_MF</a></div><div class="ttdeci">#define OSC_SRC_CLK_MF</div><div class="ttdef"><b>Definition:</b> osc.h:113</div></div>
<div class="ttc" id="group__osc__api_html_gac53cc71494c69f6f486be9b3b0566b83"><div class="ttname"><a href="group__osc__api.html#gac53cc71494c69f6f486be9b3b0566b83">OSC_SRC_CLK_HF</a></div><div class="ttdeci">#define OSC_SRC_CLK_HF</div><div class="ttdef"><b>Definition:</b> osc.h:112</div></div>
<div class="ttc" id="group__osc__api_html_gaa167a08c9239cfcfefb8c35bf984ce8b"><div class="ttname"><a href="group__osc__api.html#gaa167a08c9239cfcfefb8c35bf984ce8b">OSC_XOSC_HF</a></div><div class="ttdeci">#define OSC_XOSC_HF</div><div class="ttdef"><b>Definition:</b> osc.h:117</div></div>
<div class="ttc" id="osc_8c_html_a29d04b8c698d597cbfe1df302c157412"><div class="ttname"><a href="osc_8c.html#a29d04b8c698d597cbfe1df302c157412">oscHfGlobals</a></div><div class="ttdeci">static OscHfGlobals_t oscHfGlobals</div><div class="ttdef"><b>Definition:</b> osc.c:92</div></div>
<div class="ttc" id="struct_osc_hf_globals__t_html_adf8bf929c47abf13770b3e60cab4ed2d"><div class="ttname"><a href="struct_osc_hf_globals__t.html#adf8bf929c47abf13770b3e60cab4ed2d">OscHfGlobals_t::timeXoscOn_CV</a></div><div class="ttdeci">uint32_t timeXoscOn_CV</div><div class="ttdef"><b>Definition:</b> osc.c:87</div></div>
<div class="ttc" id="group__aonrtc__api_html_gaab6fd87d7bbf5e8f2575504d2d5c1afa"><div class="ttname"><a href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa">AONRTCCurrentCompareValueGet</a></div><div class="ttdeci">uint32_t AONRTCCurrentCompareValueGet(void)</div><div class="ttdoc">Get the current value of the RTC counter in a format that matches RTC compare values. </div><div class="ttdef"><b>Definition:</b> aon_rtc.c:62</div></div>
<div class="ttc" id="group__osc__api_html_ga37a02687fbd8680396550f682a7f046f"><div class="ttname"><a href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet</a></div><div class="ttdeci">void OSCClockSourceSet(uint32_t ui32SrcClk, uint32_t ui32Osc)</div><div class="ttdoc">Configure the oscillator input to the a source clock. </div><div class="ttdef"><b>Definition:</b> osc.c:100</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_gaee5a511c4ca70e8eb66f4a6252488506_cgraph.png" border="0" usemap="#group__osc__api_gaee5a511c4ca70e8eb66f4a6252488506_cgraph" alt=""/></div>
<map name="group__osc__api_gaee5a511c4ca70e8eb66f4a6252488506_cgraph" id="group__osc__api_gaee5a511c4ca70e8eb66f4a6252488506_cgraph">
<area shape="rect" id="node2" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f" title="Configure the oscillator input to the a source clock. " alt="" coords="237,31,381,57"/>
<area shape="rect" id="node7" href="group__aonrtc__api.html#gaab6fd87d7bbf5e8f2575504d2d5c1afa" title="Get the current value of the RTC counter in a format that matches RTC compare values. " alt="" coords="197,81,420,108"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="468,31,595,57"/>
<area shape="rect" id="node4" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="643,31,783,57"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="831,5,911,32"/>
<area shape="rect" id="node6" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="831,56,911,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae135dfece97e821338b93c4b32bc6980"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OSCHfSourceReady </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the HF clock source is ready to be switched. </p>
<p>If a request to switch the HF clock source has been made, this function can be used to check if the clock source is ready to be switched.</p>
<p>Once the HF clock source is ready the switch can be performed by calling the <a class="el" href="group__osc__api.html#gac21e7c4532672c8fa7b90e493359ddc2">OSCHfSourceSwitch()</a></p>
<dl class="section return"><dt>Returns</dt><dd>Returns status of HF clock source:<ul>
<li><code>true</code> : HF clock source is ready.</li>
<li><code>false</code> : HF clock source is <b>not</b> ready. </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// Return the readiness of the HF clock source</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4">DDI16BitfieldRead</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0 target="_blank">DDI_0_OSC_O_STAT0</a>,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                              <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_PENDINGSCLKHFSWITCHING target="_blank">DDI_0_OSC_STAT0_PENDINGSCLKHFSWITCHING_M</a>,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                              <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#STAT0_PENDINGSCLKHFSWITCHING target="_blank">DDI_0_OSC_STAT0_PENDINGSCLKHFSWITCHING_S</a>)) ?</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="group__ddi__api_html_gac86ccf0590b9dbdc88eb1a6c856c78a4"><div class="ttname"><a href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4">DDI16BitfieldRead</a></div><div class="ttdeci">uint16_t DDI16BitfieldRead(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32Shift)</div><div class="ttdoc">Read a bitfield via the DDI using 16-bit read. </div><div class="ttdef"><b>Definition:</b> ddi.c:185</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_gae135dfece97e821338b93c4b32bc6980_cgraph.png" border="0" usemap="#group__osc__api_gae135dfece97e821338b93c4b32bc6980_cgraph" alt=""/></div>
<map name="group__osc__api_gae135dfece97e821338b93c4b32bc6980_cgraph" id="group__osc__api_gae135dfece97e821338b93c4b32bc6980_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4" title="Read a bitfield via the DDI using 16&#45;bit read. " alt="" coords="193,31,320,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44" title="Safely read from AUX ADI/DDI interfaces using a semaphore. " alt="" coords="368,31,507,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="555,5,635,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="555,56,635,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac21e7c4532672c8fa7b90e493359ddc2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSCHfSourceSwitch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch the high frequency clock. </p>
<p>When switching the HF clock source the clock period might be prolonged leaving the clock 'stuck-at' high or low for a few cycles. To ensure that this does not coincide with a read access to the Flash potentially freezing the device, the HF clock source switch must be executed from ROM.</p>
<dl class="section note"><dt>Note</dt><dd>This function will not return until the clock source has been switched. It is left to the programmer to ensure, that there is a pending request for a HF clock source switch before this function is called.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a> </dd></dl>

<p>Referenced by <a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc()</a>, and <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// Switch the HF clock source</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="rom_8h.html#a54fd906640a81013fdc4b8159bfb3881">HapiHFSourceSafeSwitch</a>();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="ttc" id="rom_8h_html_a54fd906640a81013fdc4b8159bfb3881"><div class="ttname"><a href="rom_8h.html#a54fd906640a81013fdc4b8159bfb3881">HapiHFSourceSafeSwitch</a></div><div class="ttdeci">#define HapiHFSourceSafeSwitch()      </div><div class="ttdef"><b>Definition:</b> rom.h:157</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5f00114c27141d4a48934cad95b0daa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSCXHfPowerModeSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set Power Mode for High Frequency XTAL Oscillator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Mode</td><td>is the power mode for the HF XTAL.<ul>
<li><a class="el" href="group__osc__api.html#ga04a634489a012ad9a677d6c020dbf2d4">LOW_POWER_XOSC</a></li>
<li><a class="el" href="group__osc__api.html#ga454f0708212697067b91a2cfb21fc73f">HIGH_POWER_XOSC</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Mode == <a class="code" href="group__osc__api.html#ga04a634489a012ad9a677d6c020dbf2d4">LOW_POWER_XOSC</a>) ||</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;           (ui32Mode == <a class="code" href="group__osc__api.html#ga454f0708212697067b91a2cfb21fc73f">HIGH_POWER_XOSC</a>));</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Change the power mode.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="group__ddi__api.html#gabdbaae7ecb063e23cb2f12198f419a5e">DDI16BitWrite</a>(<a href=../register_descriptions/CPU_MMAP/AUX_DDI0_OSC.html target="_blank">AUX_DDI0_OSC_BASE</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0 target="_blank">DDI_0_OSC_O_CTL0</a>, <a href=../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html#CTL0_XOSC_HF_POWER_MODE target="_blank">DDI_0_OSC_CTL0_XOSC_HF_POWER_MODE</a>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                  ui32Mode);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="group__osc__api_html_ga04a634489a012ad9a677d6c020dbf2d4"><div class="ttname"><a href="group__osc__api.html#ga04a634489a012ad9a677d6c020dbf2d4">LOW_POWER_XOSC</a></div><div class="ttdeci">#define LOW_POWER_XOSC</div><div class="ttdef"><b>Definition:</b> osc.h:104</div></div>
<div class="ttc" id="group__ddi__api_html_gabdbaae7ecb063e23cb2f12198f419a5e"><div class="ttname"><a href="group__ddi__api.html#gabdbaae7ecb063e23cb2f12198f419a5e">DDI16BitWrite</a></div><div class="ttdeci">void DDI16BitWrite(uint32_t ui32Base, uint32_t ui32Reg, uint32_t ui32Mask, uint32_t ui32WrData)</div><div class="ttdoc">Write a single bit using a 16-bit maskable write. </div><div class="ttdef"><b>Definition:</b> ddi.c:83</div></div>
<div class="ttc" id="group__osc__api_html_ga454f0708212697067b91a2cfb21fc73f"><div class="ttname"><a href="group__osc__api.html#ga454f0708212697067b91a2cfb21fc73f">HIGH_POWER_XOSC</a></div><div class="ttdeci">#define HIGH_POWER_XOSC</div><div class="ttdef"><b>Definition:</b> osc.h:105</div></div>
<div class="ttc" id="group__debug__api_html_ga28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="group__debug__api.html#ga28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> debug.h:73</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__osc__api_ga5f00114c27141d4a48934cad95b0daa0_cgraph.png" border="0" usemap="#group__osc__api_ga5f00114c27141d4a48934cad95b0daa0_cgraph" alt=""/></div>
<map name="group__osc__api_ga5f00114c27141d4a48934cad95b0daa0_cgraph" id="group__osc__api_ga5f00114c27141d4a48934cad95b0daa0_cgraph">
<area shape="rect" id="node2" href="group__ddi__api.html#gabdbaae7ecb063e23cb2f12198f419a5e" title="Write a single bit using a 16&#45;bit maskable write. " alt="" coords="211,31,315,57"/>
<area shape="rect" id="node3" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="363,31,503,57"/>
<area shape="rect" id="node4" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="551,5,631,32"/>
<area shape="rect" id="node5" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="551,56,631,83"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga454f0708212697067b91a2cfb21fc73f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HIGH_POWER_XOSC&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga5f00114c27141d4a48934cad95b0daa0">OSCXHfPowerModeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="ga04a634489a012ad9a677d6c020dbf2d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOW_POWER_XOSC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga5f00114c27141d4a48934cad95b0daa0">OSCXHfPowerModeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="ga69c226c32f77c516b33207cc23179c34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_RCOSC_HF&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, and <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga77f1adccd50f1b219d9657ba2ac7dd9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_RCOSC_LF&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>

</div>
</div>
<a class="anchor" id="gac53cc71494c69f6f486be9b3b0566b83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_SRC_CLK_HF&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet()</a>, <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, <a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc()</a>, <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>, <a class="el" href="group__osc__api.html#gaee5a511c4ca70e8eb66f4a6252488506">OSCHF_TurnOnXosc()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>

</div>
</div>
<a class="anchor" id="gac57298ac9008f605f9b2c70609790bab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_SRC_CLK_LF&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228">OSCClockSourceGet()</a>, <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3791959ca0a46e15b1b8d0d6c23af66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_SRC_CLK_MF&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, <a class="el" href="group__osc__api.html#ga9eeb99e769d9c911305ff4c3c33c736c">OSCHF_SwitchToRcOscTurnOffXosc()</a>, and <a class="el" href="group__osc__api.html#gaee5a511c4ca70e8eb66f4a6252488506">OSCHF_TurnOnXosc()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa167a08c9239cfcfefb8c35bf984ce8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_XOSC_HF&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, <a class="el" href="group__osc__api.html#ga47914d2750ee826560f2107a567bb1a4">OSCHF_AttemptToSwitchToXosc()</a>, <a class="el" href="group__osc__api.html#gaee5a511c4ca70e8eb66f4a6252488506">OSCHF_TurnOnXosc()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6502b0b712473f2ec7a4112cda0725bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OSC_XOSC_LF&#160;&#160;&#160;0x00000003</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f">OSCClockSourceSet()</a>, and <a class="el" href="group__setup__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5">SetupAfterColdResetWakeupFromShutDownCfg3()</a>.</p>

</div>
</div>
<a class="anchor" id="gac1ba5bef7e258c7f1fed491c6845996e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_HF_RCOSC_HF&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga340b66c991d417f89cbe25b2260cf5c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_HF_XOSC_HF&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gadc1d42af2ba486782a1c476aae978549"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_LF_FROM_RCOSC_HF&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaef0fb03f0835b8a156ab2e0218272546"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_LF_FROM_RCOSC_LF&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga019f1e54cf5ba618b6341c69ca1f406d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_LF_FROM_XOSC_HF&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga1b670764f36a095fcf02b3efc898ea6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_LF_FROM_XOSC_LF&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gac093256fbf203be32cf67dad70991f60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_MF_RCOSC_HF&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gafc5b17c05080e806b68b5435bd931186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCLK_MF_XOSC_HF&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy Copyright 2015 - 2017 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
