<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI BLE5-Stack API Documentation: SNP GATT API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI BLE5-Stack API Documentation
   &#160;<span id="projectnumber">1.00.01.04</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SNP GATT API<div class="ingroups"><a class="el" href="group___s_n_p.html">SNP</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:simple__np__gatt_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="simple__np__gatt_8h.html">simple_np_gatt.h</a></td></tr>
<tr class="memdesc:simple__np__gatt_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP GATT Layer API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2e19ffdaff4fd52a8f37de9e8810267b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga2e19ffdaff4fd52a8f37de9e8810267b">SNP_addCharValueDecl</a> (<a class="el" href="structsnp_add_char_value_decl_req__t.html">snpAddCharValueDeclReq_t</a> *pReq, uint8_t uuidLen, <a class="el" href="structsnp_add_char_value_decl_rsp__t.html">snpAddCharValueDeclRsp_t</a> *pRsp)</td></tr>
<tr class="memdesc:ga2e19ffdaff4fd52a8f37de9e8810267b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Add Characteristic Value Declaration.  <a href="#ga2e19ffdaff4fd52a8f37de9e8810267b">More...</a><br /></td></tr>
<tr class="separator:ga2e19ffdaff4fd52a8f37de9e8810267b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85e1f5f53502a9e144e478d62e7c7646"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a> (<a class="el" href="structsnp_add_char_desc_decl_req__t.html">snpAddCharDescDeclReq_t</a> *lDescReq, <a class="el" href="structsnp_add_char_desc_decl_rsp__t.html">snpAddCharDescDeclRsp_t</a> *lDescRsp)</td></tr>
<tr class="memdesc:ga85e1f5f53502a9e144e478d62e7c7646"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Add Characteristic Descriptor Declaration.  <a href="#ga85e1f5f53502a9e144e478d62e7c7646">More...</a><br /></td></tr>
<tr class="separator:ga85e1f5f53502a9e144e478d62e7c7646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae851426690a21966824404eeeaf8d69a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#gae851426690a21966824404eeeaf8d69a">SNP_addService</a> (<a class="el" href="structsnp_add_service_req__t.html">snpAddServiceReq_t</a> *pReq, uint8_t uuidLen, <a class="el" href="group___s_n_p___structs.html#ga6b8da9d5283b64b129f2e1ac857a5efe">snpAddServiceRsp_t</a> *pRsp)</td></tr>
<tr class="memdesc:gae851426690a21966824404eeeaf8d69a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Add Service.  <a href="#gae851426690a21966824404eeeaf8d69a">More...</a><br /></td></tr>
<tr class="separator:gae851426690a21966824404eeeaf8d69a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5b9acd24582fc2e35524b2b5980acab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a> (<a class="el" href="structsnp_get_attr_value_req__t.html">snpGetAttrValueReq_t</a> *pReq, <a class="el" href="structsnp_get_attr_value_rsp__t.html">snpGetAttrValueRsp_t</a> *pRsp, uint16_t *pDataLenght)</td></tr>
<tr class="memdesc:gaa5b9acd24582fc2e35524b2b5980acab"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Get Attribute Value.  <a href="#gaa5b9acd24582fc2e35524b2b5980acab">More...</a><br /></td></tr>
<tr class="separator:gaa5b9acd24582fc2e35524b2b5980acab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ef638b16a5533f94d14d2a0e7503a34"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga7ef638b16a5533f94d14d2a0e7503a34">SNP_getGATTParam</a> (<a class="el" href="structsnp_get_gatt_param_req__t.html">snpGetGattParamReq_t</a> *pReq, <a class="el" href="group___s_n_p___structs.html#ga4001809214b7035c562ed1558b75127d">snpGetGattParamRsp_t</a> *pRsp, uint16_t *pDataLen)</td></tr>
<tr class="memdesc:ga7ef638b16a5533f94d14d2a0e7503a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Get GATT Parameter.  <a href="#ga7ef638b16a5533f94d14d2a0e7503a34">More...</a><br /></td></tr>
<tr class="separator:ga7ef638b16a5533f94d14d2a0e7503a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5546a799dbdb66cb0bbc074fad31716b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga5546a799dbdb66cb0bbc074fad31716b">SNP_processCharConfigUpdatedCnf</a> (<a class="el" href="group___s_n_p___structs.html#ga4582c7a5c3f50e92c95ec62fe50dda8f">snpCharCfgUpdatedRsp_t</a> *pReq)</td></tr>
<tr class="memdesc:ga5546a799dbdb66cb0bbc074fad31716b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Characteristic Configuration Update Confirm (0x8B)  <a href="#ga5546a799dbdb66cb0bbc074fad31716b">More...</a><br /></td></tr>
<tr class="separator:ga5546a799dbdb66cb0bbc074fad31716b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d54651743b0b2854071345050f957be"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga7d54651743b0b2854071345050f957be">SNP_readCharCnf</a> (<a class="el" href="structsnp_char_read_cnf__t.html">snpCharReadCnf_t</a> *pReq, uint16_t dataSize)</td></tr>
<tr class="memdesc:ga7d54651743b0b2854071345050f957be"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Read Characteristic Confirmation.  <a href="#ga7d54651743b0b2854071345050f957be">More...</a><br /></td></tr>
<tr class="separator:ga7d54651743b0b2854071345050f957be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabce84013f5f849ac18e6d8f753884108"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#gabce84013f5f849ac18e6d8f753884108">SNP_registerService</a> (<a class="el" href="structsnp_register_service_rsp__t.html">snpRegisterServiceRsp_t</a> *pRsp)</td></tr>
<tr class="memdesc:gabce84013f5f849ac18e6d8f753884108"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Register Service.  <a href="#gabce84013f5f849ac18e6d8f753884108">More...</a><br /></td></tr>
<tr class="separator:gabce84013f5f849ac18e6d8f753884108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad282fda5c6fbfd0e671d6dd4d3a81688"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#gad282fda5c6fbfd0e671d6dd4d3a81688">SNP_sendNotifInd</a> (<a class="el" href="structsnp_notif_ind_req__t.html">snpNotifIndReq_t</a> *pCmdStruct, int16_t length)</td></tr>
<tr class="memdesc:gad282fda5c6fbfd0e671d6dd4d3a81688"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Send Notification Indication.  <a href="#gad282fda5c6fbfd0e671d6dd4d3a81688">More...</a><br /></td></tr>
<tr class="separator:gad282fda5c6fbfd0e671d6dd4d3a81688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4377f63586f131e5465437dc963c1afc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga4377f63586f131e5465437dc963c1afc">SNP_setAttrValue</a> (<a class="el" href="structsnp_set_attr_value_req__t.html">snpSetAttrValueReq_t</a> *pReq, uint16_t dataLenght, <a class="el" href="structsnp_set_attr_value_rsp__t.html">snpSetAttrValueRsp_t</a> *pRsp)</td></tr>
<tr class="memdesc:ga4377f63586f131e5465437dc963c1afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Set Attribute Value.  <a href="#ga4377f63586f131e5465437dc963c1afc">More...</a><br /></td></tr>
<tr class="separator:ga4377f63586f131e5465437dc963c1afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88a6482340aa54bed5b08d78e2816c19"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga88a6482340aa54bed5b08d78e2816c19">SNP_setGATTParam</a> (<a class="el" href="structsnp_set_gatt_param_req__t.html">snpSetGattParamReq_t</a> *pReq, uint16_t reqDataLen, <a class="el" href="structsnp_set_gatt_param_rsp__t.html">snpSetGattParamRsp_t</a> *pRsp)</td></tr>
<tr class="memdesc:ga88a6482340aa54bed5b08d78e2816c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Set GATT Parameter.  <a href="#ga88a6482340aa54bed5b08d78e2816c19">More...</a><br /></td></tr>
<tr class="separator:ga88a6482340aa54bed5b08d78e2816c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c6a7c8bc9637a1a9c1df3064975f96"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_n_p___g_a_t_t.html#ga67c6a7c8bc9637a1a9c1df3064975f96">SNP_writeCharCnf</a> (<a class="el" href="structsnp_char_write_cnf__t.html">snpCharWriteCnf_t</a> *pReq)</td></tr>
<tr class="memdesc:ga67c6a7c8bc9637a1a9c1df3064975f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNP Write Characteristic Confirmation.  <a href="#ga67c6a7c8bc9637a1a9c1df3064975f96">More...</a><br /></td></tr>
<tr class="separator:ga67c6a7c8bc9637a1a9c1df3064975f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2e19ffdaff4fd52a8f37de9e8810267b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e19ffdaff4fd52a8f37de9e8810267b">&sect;&nbsp;</a></span>SNP_addCharValueDecl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_addCharValueDecl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_add_char_value_decl_req__t.html">snpAddCharValueDeclReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>uuidLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnp_add_char_value_decl_rsp__t.html">snpAddCharValueDeclRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Add Characteristic Value Declaration. </p>
<p>AP -&gt; NP (SNP_addCharValueDecl) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x82 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_ADD_CHAR_VAL_DECL_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_addCharValueDecl) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x82 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_ADD_CHAR_VAL_DECL_RSP </td></tr>
</table>
<p>This command is sent to the SNP to add the two Bluetooth Specification mandatory attributes for a characteristic: <br />
</p><ul>
<li>characteristic value <br />
</li>
<li>characteristic declaration</li>
</ul>
<p>This command should be sent after <a class="el" href="group___s_n_p___g_a_t_t.html#gae851426690a21966824404eeeaf8d69a">SNP_addService</a> (0x81) command has been sent to begin service declaration.</p>
<p>It is possible to add optional attributes to the characteristic using <a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a> (0x83) command.</p>
<dl class="section user"><dt>Additional Notes</dt><dd></dd></dl>
<p>This command must be called before adding additional attributes with <a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a> (0x83).</p>
<p>If the GATT Notify or GATT Indicate properties are enabled, a CCCD characteristic must be added with the <a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a> (0x83) command.</p>
<p>The TI BLE Stack expects the properties to be aligned logically with the permissions. For example, a characteristic with read properties would most likely have read permissions.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#gad79b8015007c3fab2c958aff7ad3fd45">SNP_ADD_CHAR_VAL_DECL_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga374f6cc08c5b0d945eefb258c5bbbbdc">SNP_ADD_CHAR_VAL_DECL_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_add_char_value_decl_req__t.html">snpAddCharValueDeclReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Permissions of the value attribute <a class="el" href="group___s_n_p___p_e_r_m_i_t___b_i_t_m_a_p_s___d_e_f_i_n_e_s.html">GATT Attribute Access Permissions Bit Fields</a> </td></tr>
<tr>
<td>2 Byte </td><td>Properties of the value attribute <a class="el" href="group___s_n_p___p_r_o_p___b_i_t_m_a_p_s___d_e_f_i_n_e_s.html">GATT Characteristic Properties Bit Fields</a> </td></tr>
<tr>
<td>1 Byte </td><td>Reserved </td></tr>
<tr>
<td>2 Byte </td><td>Reserved </td></tr>
<tr>
<td>2 Byte </td><td>2 Byte UUID <a class="el" href="_s_n_p__n_p_i__t_l.html#UUID_desc">dealing with UUID</a> </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_add_char_value_decl_rsp__t.html">snpAddCharValueDeclRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Add Characteristic Value &amp; Declaration Request Structure <a class="el" href="structsnp_add_char_value_decl_req__t.html">snpAddCharValueDeclReq_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuidLen</td><td>: 1 Byte UUID Length of Service </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Add Characteristic Value &amp; Declaration Response Structure <a class="el" href="structsnp_add_char_value_decl_rsp__t.html">snpAddCharValueDeclRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga85e1f5f53502a9e144e478d62e7c7646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85e1f5f53502a9e144e478d62e7c7646">&sect;&nbsp;</a></span>SNP_addDescriptionValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_addDescriptionValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_add_char_desc_decl_req__t.html">snpAddCharDescDeclReq_t</a> *&#160;</td>
          <td class="paramname"><em>lDescReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnp_add_char_desc_decl_rsp__t.html">snpAddCharDescDeclRsp_t</a> *&#160;</td>
          <td class="paramname"><em>lDescRsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Add Characteristic Descriptor Declaration. </p>
<p>AP -&gt; NP (SNP_addDescriptionValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x83 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_ADD_CHAR_DESC_DECL_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_addDescriptionValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x83 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_ADD_CHAR_DESC_DECL_RSP </td></tr>
</table>
<p>This command is used to add one or more of the following attributes to a characteristic: </p><pre class="fragment">User Description String
CCCD
Presentation format
Server Characteristic Config (Reserved)
Aggregate format
Generic Attribute using short UUID
Generic Attribute using long UUID
</pre><p>For User Description String, the attribute permissions is forced to be read-only.</p>
<dl class="section user"><dt>Additional Notes</dt><dd></dd></dl>
<p>All those attributes are optional. At least one needs to be added when using this command.<br />
 CCCD, Presentation Format, and User Description String attributes can be added once for each characteristic. <br />
 Trying to create a second will lead to a <a class="el" href="group___s_n_p___e_r_r_o_r_s.html#ga42d38fa07e3a2937ca3686285dfebf0d">SNP_CMD_REJECTED</a>.</p>
<p>If the NOTIFY and INDICATE properties are enabled by the CCCD attribute, and a GATT Clint writes to this attribute - <a class="el" href="group___s_n_p___g_a_t_t.html#ga67c6a7c8bc9637a1a9c1df3064975f96">SNP_writeCharCnf</a> is forwarded to AP. AP must then determine if the write is authorized and send write to the attribute via <a class="el" href="group___s_n_p___g_a_t_t.html#ga88a6482340aa54bed5b08d78e2816c19">SNP_setGATTParam</a>.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga31313f5bcd5157cc5cc1a50c181d1ff1">SNP_ADD_CHAR_DESC_DECL_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga2a48f6c08d6efb963bda8dc3c9dead06">SNP_ADD_CHAR_DESC_DECL_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_add_char_desc_decl_req__t.html">snpAddCharDescDeclReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Header of Attributes to add <a class="el" href="group___s_n_p___g_a_t_t___d_e_s_c___h_e_a_d_e_r___l_i_s_t.html">SNP GATT Descriptors Header</a> </td></tr>
<tr>
<td>X Byte </td><td>Depending on Header, the length can very </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_add_char_desc_decl_rsp__t.html">snpAddCharDescDeclRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>1 Byte </td><td>Header of Added Attributes <a class="el" href="group___s_n_p___g_a_t_t___d_e_s_c___h_e_a_d_e_r___l_i_s_t.html">SNP GATT Descriptors Header</a> </td></tr>
<tr>
<td>X Byte </td><td>Handles of Attributes added, depending on header </td></tr>
</table>
<dl class="section user"><dt>Related Structures</dt><dd></dd></dl>
<p><a class="el" href="structsnp_add_char_desc_decl_req__t.html">snpAddCharDescDeclReq_t</a> for <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga31313f5bcd5157cc5cc1a50c181d1ff1">SNP_ADD_CHAR_DESC_DECL_REQ</a> <br />
 <a class="el" href="structsnp_add_char_desc_decl_rsp__t.html">snpAddCharDescDeclRsp_t</a> for <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga2a48f6c08d6efb963bda8dc3c9dead06">SNP_ADD_CHAR_DESC_DECL_RSP</a> <br />
 <a class="el" href="structsnp_add_attr_gen_short_u_u_i_d__t.html">snpAddAttrGenShortUUID_t</a> for Short UUID <br />
 <a class="el" href="structsnp_add_attr_gen_long_u_u_i_d__t.html">snpAddAttrGenLongUUID_t</a> for Long UUID <br />
 <a class="el" href="structsnp_add_attr_cccd__t.html">snpAddAttrCccd_t</a> for CCCD <br />
 <a class="el" href="structsnp_add_attr_format__t.html">snpAddAttrFormat_t</a> for Presentation Format <br />
 <a class="el" href="structsnp_add_attr_user_desc__t.html">snpAddAttrUserDesc_t</a> for User Description</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lDescReq</td><td>: Add Descriptor Request Structure, <a class="el" href="structsnp_add_char_desc_decl_req__t.html">snpAddCharDescDeclReq_t</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lDescRsp</td><td>: Add Descriptor Response Structure, <a class="el" href="structsnp_add_char_desc_decl_rsp__t.html">snpAddCharDescDeclRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="gae851426690a21966824404eeeaf8d69a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae851426690a21966824404eeeaf8d69a">&sect;&nbsp;</a></span>SNP_addService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_addService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_add_service_req__t.html">snpAddServiceReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>uuidLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_n_p___structs.html#ga6b8da9d5283b64b129f2e1ac857a5efe">snpAddServiceRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Add Service. </p>
<p>AP -&gt; NP (SNP_addService) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x81 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_ADD_SERVICE_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_addService) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x81 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_ADD_SERVICE_RSP </td></tr>
</table>
<p>The SNP Add Service command is sent to the SNP to start the addition of a new service to the GATT server running on the SNP.</p>
<p>This command should be followed by <a class="el" href="group___s_n_p___g_a_t_t.html#ga2e19ffdaff4fd52a8f37de9e8810267b">SNP_addCharValueDecl</a> (0x82) command and optionally <a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a> (0x83) command to add characteristics to the service.</p>
<p>Lastly, when all characteristics have been added, <a class="el" href="group___s_n_p___g_a_t_t.html#gabce84013f5f849ac18e6d8f753884108">SNP_registerService</a> (0x84) command should be sent to the device.</p>
<p>Only one service can be added at a time. That is, once this command has been sent, all characteristics must then be added and the service must to be registered before adding another service.</p>
<dl class="section user"><dt>Additional Notes</dt><dd></dd></dl>
<p>Services and characteristic cannot be added if the Device has started. <br />
 Device is started when <a class="el" href="group___s_n_p___g_a_p.html#ga65f4f4902ffd013fe8fdb6f57174d136">SNP_startAdv</a> or <a class="el" href="group___s_n_p___g_a_p.html#ga661d29b14fb21b2a8f2fd3d6e872bfc3">SNP_setAdvData</a> is send to the SNP.<br />
 Once started, the only way to stop the device is to reset it.</p>
<p>When NP is reset, all previously added services and characteristics are lost.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga260d8e0aa1de195dd98e8e6508302df9">SNP_ADD_SERVICE_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga2804629eec658babe5df2685c2d5b133">SNP_ADD_SERVICE_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_add_service_req__t.html">snpAddServiceReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Type of the service to add <a class="el" href="group___s_n_p___s_e_r_v_i_c_e___t_y_p_e.html">Service Type</a> </td></tr>
<tr>
<td>2 Byte </td><td>2 Byte UUID <a class="el" href="_s_n_p__n_p_i__t_l.html#UUID_desc">dealing with UUID</a> </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="group___s_n_p___structs.html#ga6b8da9d5283b64b129f2e1ac857a5efe">snpAddServiceRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Add Service Request Structure, <a class="el" href="structsnp_add_service_req__t.html">snpAddServiceReq_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuidLen</td><td>: 1 Byte UUID Length of Service </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Add Service Response Structure, <a class="el" href="group___s_n_p___structs.html#ga6b8da9d5283b64b129f2e1ac857a5efe">snpAddServiceRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="gaa5b9acd24582fc2e35524b2b5980acab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5b9acd24582fc2e35524b2b5980acab">&sect;&nbsp;</a></span>SNP_getAttrValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_getAttrValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_get_attr_value_req__t.html">snpGetAttrValueReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnp_get_attr_value_rsp__t.html">snpGetAttrValueRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pDataLenght</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Get Attribute Value. </p>
<p>AP -&gt; NP (SNP_getAttrValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x85 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_GET_ATTR_VALUE_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_getAttrValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x85 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_GET_ATTR_VALUE_RSP </td></tr>
</table>
<p>This command is sent to the SNP to retrieve the value of an attribute on the GATT server. This includes non-user added Services, the Device Information Service and the Generic Access Service.</p>
<p>This command can only be used to get read from User Description and Presentation Format Attributes. These attribute values are stored on SNP. Other attribute values are Reserved for Future Use.</p>
<p>For getting the value of a SNP managed attribute, the command <a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a> (0x8D) should be used.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga192a7a4adc64462be1402b7257e0a754">SNP_GET_ATTR_VALUE_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#gaf7d79dd1bfd39bdc1d013bca1892aec8">SNP_GET_ATTR_VALUE_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_get_attr_value_req__t.html">snpGetAttrValueReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle to get Value from </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_get_attr_value_rsp__t.html">snpGetAttrValueRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of where Value is from </td></tr>
<tr>
<td>X Byte </td><td>Value of the Attribute Handle </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Get Attribute Value Request Structure, <a class="el" href="structsnp_get_attr_value_req__t.html">snpGetAttrValueReq_t</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Get Attribute Value Response Structure, <a class="el" href="structsnp_get_attr_value_rsp__t.html">snpGetAttrValueRsp_t</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDataLenght</td><td>: Length in Bytes of <a class="el" href="structsnp_get_attr_value_rsp__t.html#a77f0d5374ee675db57c0b29946ca7744" title="Pointer to data of the value to set. ">snpGetAttrValueRsp_t::pData</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga7ef638b16a5533f94d14d2a0e7503a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ef638b16a5533f94d14d2a0e7503a34">&sect;&nbsp;</a></span>SNP_getGATTParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_getGATTParam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_get_gatt_param_req__t.html">snpGetGattParamReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_n_p___structs.html#ga4001809214b7035c562ed1558b75127d">snpGetGattParamRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pDataLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Get GATT Parameter. </p>
<p>AP -&gt; NP (SNP_getGATTParam) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x8D </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_GET_GATT_PARAM_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_getGATTParam) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x8D </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_GET_GATT_PARAM_RSP </td></tr>
</table>
<p>This command is used to get the value of a Characteristic Value attribute from a characteristic managed by SNP GATT Server. This includes non-user added Services, the Device Information Service and the Generic Access Service.</p>
<p>For reading other types of Attributes, use <a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a> (0x85)</p>
<p>For writing the value of a Characteristic Value Attribute, use <a class="el" href="group___s_n_p___g_a_t_t.html#ga88a6482340aa54bed5b08d78e2816c19">SNP_setGATTParam</a> (0x8C)</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga8a7213f9d00664308698b11cabf08271">SNP_GET_GATT_PARAM_RSP</a></dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_get_gatt_param_req__t.html">snpGetGattParamReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Service ID containing parameter <a class="el" href="group___s_n_p___p_r_e_d_e_f___s_e_r_v_i_c_e.html">Predefined services</a> </td></tr>
<tr>
<td>2 Byte </td><td>Parameter ID to get data from </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="group___s_n_p___structs.html#ga4001809214b7035c562ed1558b75127d">snpGetGattParamRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Service ID containing parameter <a class="el" href="group___s_n_p___p_r_e_d_e_f___s_e_r_v_i_c_e.html">Predefined services</a> </td></tr>
<tr>
<td>2 Byte </td><td>Parameter ID to get data from </td></tr>
<tr>
<td>X Byte </td><td>Parameter Data </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Get GATT Parameter Request Structure, <a class="el" href="structsnp_get_gatt_param_req__t.html">snpGetGattParamReq_t</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Get GATT Parameter Response Structure, <a class="el" href="group___s_n_p___structs.html#ga4001809214b7035c562ed1558b75127d">snpGetGattParamRsp_t</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDataLen</td><td>: Length in Bytes of <a class="el" href="structsnp_set_gatt_param_req__t.html#a77f0d5374ee675db57c0b29946ca7744" title="Pointer of Data to write/retrieved. ">snpGetGattParamRsp_t::pData</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga5546a799dbdb66cb0bbc074fad31716b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5546a799dbdb66cb0bbc074fad31716b">&sect;&nbsp;</a></span>SNP_processCharConfigUpdatedCnf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_processCharConfigUpdatedCnf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_n_p___structs.html#ga4582c7a5c3f50e92c95ec62fe50dda8f">snpCharCfgUpdatedRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Characteristic Configuration Update Confirm (0x8B) </p>
<p>NP -&gt; AP (N/A) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x8B </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CCCD_UPDATED_IND </td></tr>
</table>
<p>AP -&gt; NP (SNP_processCharConfigUpdatedCnf) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x8B </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CCCD_UPDATED_CNF </td></tr>
</table>
<p>The <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga16a33a3cabb5fc8a1427329aeda47ae9">SNP_CCCD_UPDATED_IND</a> event is sent from the SNP when the remote GATT Client has requested to update the CCCD value added by the AP.</p>
<p>Upon receiving this event, if snpCharCfgUpdatedRsp_t::rspNeeded is <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___o_p_t_i_o_n_s.html#gaef5be8474edd86a0eedda378d5c6daf8">SNP_RESPONSE_NEEDED</a> then within 30 seconds the AP must:</p><ul>
<li>determine if CCCD update is allowed by application-specific rules</li>
<li>send this command / <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga2577f06b3af77a5552cc40a3fb2ba807">SNP_CCCD_UPDATED_CNF</a> with the proper parameters</li>
</ul>
<p>If there is no response within 30 seconds, an ATT timeout will occur and BLE connection will be lost.</p>
<p>AP is responsible for remembering the CCCD value, accept/decline authorize the CCCD, and if associated characteristic value changes, the AP must send out notification or indication of the change.</p>
<p>If snpCharCfgUpdatedRsp_t::rspNeeded is <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___o_p_t_i_o_n_s.html#ga79f8b6350c3746fd8aa712d3bbca9933">SNP_RESPONSE_NOT_NEEDED</a> then no response is needed.</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga16a33a3cabb5fc8a1427329aeda47ae9">SNP_CCCD_UPDATED_IND</a> (from SNP) | <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga2577f06b3af77a5552cc40a3fb2ba807">SNP_CCCD_UPDATED_CNF</a> (from AP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_char_cfg_updated_ind__t.html">snpCharCfgUpdatedInd_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Connection Handle generating request to write </td></tr>
<tr>
<td>2 Byte </td><td>Handle to CCCD attribute being written to </td></tr>
<tr>
<td>1 Byte </td><td>Indicate if Response is Needed from AP <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___o_p_t_i_o_n_s.html">Options for Response Needed Field</a> </td></tr>
<tr>
<td>2 Byte </td><td>Value to write to CCCD </td></tr>
</table>
<p>AP -&gt; NP <br />
 <a class="el" href="group___s_n_p___structs.html#ga4582c7a5c3f50e92c95ec62fe50dda8f">snpCharCfgUpdatedRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Connection Handle generating request to read </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: structure of the confirmation, see snpCharCfgUpdatedRsp_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga7d54651743b0b2854071345050f957be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d54651743b0b2854071345050f957be">&sect;&nbsp;</a></span>SNP_readCharCnf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_readCharCnf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_char_read_cnf__t.html">snpCharReadCnf_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Read Characteristic Confirmation. </p>
<p>NP -&gt; AP (N/A) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x87 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CHAR_READ_IND </td></tr>
</table>
<p>AP -&gt; NP (SNP_readCharCnf) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x87 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CHAR_READ_CNF </td></tr>
</table>
<p>If a GATT client requests a read of a characteristic that was added by the AP, the SNP GATT server will forward an <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga936364ac2c0d2a5983385c889b5b5bd6">SNP_CHAR_READ_IND</a> (0x87) to the AP.</p>
<p>The AP then has 30 seconds to do the following:</p><ul>
<li>Determine if read is allowed based on application-specific rules</li>
<li>Perform the write using <a class="el" href="group___s_n_p___g_a_t_t.html#ga7ef638b16a5533f94d14d2a0e7503a34">SNP_getGATTParam</a> or <a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a></li>
<li>Verify that the read occurred successfully</li>
<li>Send this command back / <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga297df38e0a3feca71838878bc1bdd180">SNP_CHAR_READ_CNF</a> with the appropriate response.</li>
</ul>
<p>If no response occurs in 30 seconds, an ATT timeout will occur and BLE connection will be lost.</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga936364ac2c0d2a5983385c889b5b5bd6">SNP_CHAR_READ_IND</a> (from SNP) | <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga297df38e0a3feca71838878bc1bdd180">SNP_CHAR_READ_CNF</a> (from AP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_char_read_ind__t.html">snpCharReadInd_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Connection Handle generating request to read </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of Characteristic Value to read from </td></tr>
<tr>
<td>2 Byte </td><td>Offset in Bytes </td></tr>
<tr>
<td>2 Byte </td><td>Max Size of Data to read </td></tr>
</table>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_char_read_cnf__t.html">snpCharReadCnf_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Connection Handle generating request to read </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of Characteristic Value to read </td></tr>
<tr>
<td>2 Byte </td><td>Offset in Bytes </td></tr>
<tr>
<td>X Byte </td><td>Data to write to characteristic </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Read Characteristic Confirmation Structure, <a class="el" href="structsnp_char_read_cnf__t.html">snpCharReadCnf_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataSize</td><td>: Length in Bytes of <a class="el" href="structsnp_char_read_cnf__t.html#a77f0d5374ee675db57c0b29946ca7744">snpCharReadCnf_t::pData</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="gabce84013f5f849ac18e6d8f753884108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabce84013f5f849ac18e6d8f753884108">&sect;&nbsp;</a></span>SNP_registerService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_registerService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_register_service_rsp__t.html">snpRegisterServiceRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Register Service. </p>
<p>AP -&gt; NP (SNP_registerService) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x84 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_REGISTER_SERVICE_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_registerService) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x84 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_REGISTER_SERVICE_RSP </td></tr>
</table>
<p>This command should be sent to the device to register the previously added service and characteristics to the devices GATT server.</p>
<p>This command should be sent after <a class="el" href="group___s_n_p___g_a_t_t.html#gae851426690a21966824404eeeaf8d69a">SNP_addService</a> and <a class="el" href="group___s_n_p___g_a_t_t.html#ga2e19ffdaff4fd52a8f37de9e8810267b">SNP_addCharValueDecl</a>; along with any optional attributes desired from <a class="el" href="group___s_n_p___g_a_t_t.html#ga85e1f5f53502a9e144e478d62e7c7646">SNP_addDescriptionValue</a>.</p>
<p>When NP is reset, all previously added services and characteristics are lost.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga6eb38ff1799ef95abd57e259a4aa2a68">SNP_REGISTER_SERVICE_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga8a4d89d2e3829667ae0b776af6a4eb2b">SNP_REGISTER_SERVICE_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 No Parameter Structure</p>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_register_service_rsp__t.html">snpRegisterServiceRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Start Handle of the Registered Service </td></tr>
<tr>
<td>2 Byte </td><td>End Handle of Registered Service </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Register Service Response Structure, <a class="el" href="structsnp_register_service_rsp__t.html">snpRegisterServiceRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="gad282fda5c6fbfd0e671d6dd4d3a81688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad282fda5c6fbfd0e671d6dd4d3a81688">&sect;&nbsp;</a></span>SNP_sendNotifInd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_sendNotifInd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_notif_ind_req__t.html">snpNotifIndReq_t</a> *&#160;</td>
          <td class="paramname"><em>pCmdStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Send Notification Indication. </p>
<p>AP -&gt; NP (SNP_sendNotifInd) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x89 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_SEND_NOTIF_IND_REQ </td></tr>
</table>
<p>NP -&gt; AP (N/A) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x89 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_SEND_NOTIF_IND_CNF </td></tr>
</table>
<p>This command is used to request SNP to send a Notification or Indication to the GATT Client. This is only possible if a CCCD for the characteristic has been created and notifications / indications have been enabled by the GATT Client writing to the CCCD.</p>
<p>If CCCD Attribute of a characteristic is not configured correctly, the GATT server may not send out notification or indication.</p>
<p>Indications require a confirmation from the GATT client. Thus only one indication can be sent at a time. Once confirmation is received, it is then forwarded to AP via <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga9568084f978b652d18f4ab4f5a3cf223">SNP_SEND_NOTIF_IND_CNF</a> with a <a class="el" href="group___s_n_p___e_r_r_o_r_s.html#gabba6ef602457f8a682412ffb96f192c8">SNP_SUCCESS</a>.</p>
<p>If no confirmation is received from the GATT Client within 30 seconds, <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga9568084f978b652d18f4ab4f5a3cf223">SNP_SEND_NOTIF_IND_CNF</a> with a <a class="el" href="group___s_n_p___e_r_r_o_r_s.html#ga06974de47fb789e0f03e16911f184d9d">SNP_FAILURE</a> will be sent back to AP. An ATT timeout will also occur, dropping the BLE connection.</p>
<p>Notifications don't require a confirmation from the GATT Client. SNP will produce a <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga9568084f978b652d18f4ab4f5a3cf223">SNP_SEND_NOTIF_IND_CNF</a> with a <a class="el" href="group___s_n_p___e_r_r_o_r_s.html#gabba6ef602457f8a682412ffb96f192c8">SNP_SUCCESS</a> when command has been forwarded to BLE-Stack Host.</p>
<dl class="section user"><dt>Additional Notes</dt><dd></dd></dl>
<p>The maximum size possible for a notification or indication value is ATT_MTU_SIZE. If the value sent is larger than ATT_MTU_SIZE bytes, it will be truncated.</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga07531fa2c057300c3d09d196d136e9ad">SNP_SEND_NOTIF_IND_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga9568084f978b652d18f4ab4f5a3cf223">SNP_SEND_NOTIF_IND_CNF</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_notif_ind_req__t.html">snpNotifIndReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Connection Handle to send Notification/Indication </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of Characteristic Value to notify/indicate </td></tr>
<tr>
<td>1 Byte </td><td>Reserved </td></tr>
<tr>
<td>1 Byte </td><td>Type of the Request <a class="el" href="group___s_n_p___i_n_d___t_y_p_e.html">SNP indication type</a> </td></tr>
<tr>
<td>X Byte </td><td>Characteristic Value to Send </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="group___s_n_p___structs.html#ga0f6565d0dc58275562ed55db4ea7035b">snpNotifIndCnf_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Connection Handle Notified/Indicated </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCmdStruct</td><td>:Parameter Structure for Notification/Indication, <a class="el" href="structsnp_notif_ind_req__t.html">snpNotifIndReq_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>:Length in Bytes of <a class="el" href="structsnp_notif_ind_req__t.html#a77f0d5374ee675db57c0b29946ca7744" title="Pointer to. ">snpNotifIndReq_t::pData</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga4377f63586f131e5465437dc963c1afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4377f63586f131e5465437dc963c1afc">&sect;&nbsp;</a></span>SNP_setAttrValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_setAttrValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_set_attr_value_req__t.html">snpSetAttrValueReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dataLenght</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnp_set_attr_value_rsp__t.html">snpSetAttrValueRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Set Attribute Value. </p>
<p>AP -&gt; NP (SNP_setAttrValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x86 </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_SET_ATTR_VALUE_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_setAttrValue) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x86 </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_SET_ATTR_VALUE_RSP </td></tr>
</table>
<p>This command is sent to the SNP in order to write the value of an attribute on the GATT server. This includes non-user added Services, the Device Information Service and the Generic Access Service.</p>
<p>This command can only be used to write User Description and Presentation Format Attributes.</p>
<p>For writing to Characteristic Value Attributes, use <a class="el" href="group___s_n_p___g_a_t_t.html#ga88a6482340aa54bed5b08d78e2816c19">SNP_setGATTParam</a> (0x8C)</p>
<p>For reading the value of a SNP managed attribute, the command <a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a> (0x85) should be used.</p>
<dl class="section user"><dt>Corresponding Events/Commands</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga92efd3d40f6ed9951005d74e1a1db2f5">SNP_SET_ATTR_VALUE_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga5830d014f5c0c1ec2b015a2f42a58570">SNP_SET_ATTR_VALUE_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_set_attr_value_req__t.html">snpSetAttrValueReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle to get Value from </td></tr>
<tr>
<td>X Byte </td><td>Value to Set the Attribute </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_set_attr_value_rsp__t.html">snpSetAttrValueRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of where Value is from </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Set Attribute Value Request Structure, <a class="el" href="structsnp_set_attr_value_req__t.html">snpSetAttrValueReq_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataLenght</td><td>: Length in Bytes of <a class="el" href="structsnp_set_attr_value_req__t.html#a77f0d5374ee675db57c0b29946ca7744" title="Pointer of data value to set. ">snpSetAttrValueReq_t::pData</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Set Attribute Value Response Structure, <a class="el" href="structsnp_set_attr_value_rsp__t.html">snpSetAttrValueRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga88a6482340aa54bed5b08d78e2816c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88a6482340aa54bed5b08d78e2816c19">&sect;&nbsp;</a></span>SNP_setGATTParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_setGATTParam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_set_gatt_param_req__t.html">snpSetGattParamReq_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>reqDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsnp_set_gatt_param_rsp__t.html">snpSetGattParamRsp_t</a> *&#160;</td>
          <td class="paramname"><em>pRsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Set GATT Parameter. </p>
<p>AP -&gt; NP (SNP_setGATTParam) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x35 </td><td>0x8C </td></tr>
<tr>
<td>SNP_NPI_SYNC_REQ_TYPE </td><td>SNP_SET_GATT_PARAM_REQ </td></tr>
</table>
<p>NP -&gt; AP (SNP_setGATTParam) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x75 </td><td>0x8C </td></tr>
<tr>
<td>SNP_NPI_SYNC_RSP_TYPE </td><td>SNP_SET_GATT_PARAM_RSP </td></tr>
</table>
<p>This command is used to write the attribute value of a characteristic managed on the SNP GATT Server. This includes non-user added Services, the Device Information Service and the Generic Access Service.</p>
<p>This command can only write to Characteristic Value attributes.</p>
<p>For other types of Attributes, use <a class="el" href="group___s_n_p___g_a_t_t.html#ga4377f63586f131e5465437dc963c1afc">SNP_setAttrValue</a> (0x86)</p>
<p>For reading the value of a SNP managed attribute, the command <a class="el" href="group___s_n_p___g_a_t_t.html#gaa5b9acd24582fc2e35524b2b5980acab">SNP_getAttrValue</a> (0x85) should be used.</p>
<dl class="section user"><dt>Additional Information</dt><dd></dd></dl>
<p>The SNP_setGATTParam::reqDataLen should never exceed the maximum length of the attribute value</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#gac2f1d360c31c1df386e327fb8ef2e004">SNP_SET_GATT_PARAM_REQ</a> (from AP) | <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga2e8c54170180a59f458abe0fbe94f139">SNP_SET_GATT_PARAM_RSP</a> (from SNP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_set_gatt_param_req__t.html">snpSetGattParamReq_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Service ID containing parameter <a class="el" href="group___s_n_p___p_r_e_d_e_f___s_e_r_v_i_c_e.html">Predefined services</a> </td></tr>
<tr>
<td>2 Byte </td><td>Parameter ID </td></tr>
<tr>
<td>X Byte </td><td>Value to Set the Parameter </td></tr>
</table>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_set_gatt_param_rsp__t.html">snpSetGattParamRsp_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Set GATT Parameter Request Structure, <a class="el" href="structsnp_set_gatt_param_req__t.html">snpSetGattParamReq_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reqDataLen</td><td>: Length in Bytes of <a class="el" href="structsnp_set_gatt_param_req__t.html#a77f0d5374ee675db57c0b29946ca7744" title="Pointer of Data to write/retrieved. ">snpSetGattParamReq_t::pData</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRsp</td><td>: Set GATT Parameter Response Structure, <a class="el" href="structsnp_set_gatt_param_rsp__t.html">snpSetGattParamRsp_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
<a id="ga67c6a7c8bc9637a1a9c1df3064975f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67c6a7c8bc9637a1a9c1df3064975f96">&sect;&nbsp;</a></span>SNP_writeCharCnf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SNP_writeCharCnf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsnp_char_write_cnf__t.html">snpCharWriteCnf_t</a> *&#160;</td>
          <td class="paramname"><em>pReq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SNP Write Characteristic Confirmation. </p>
<p>NP -&gt; AP (N/A) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x88 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CHAR_WRITE_IND </td></tr>
</table>
<p>AP -&gt; NP (SNP_writeCharCnf) <br />
</p><table class="doxtable">
<tr>
<th>CMD 0 </th><th>CMD 1  </th></tr>
<tr>
<td>0x55 </td><td>0x88 </td></tr>
<tr>
<td>SNP_NPI_ASYNC_CMD_TYPE </td><td>SNP_CHAR_WRITE_CNF </td></tr>
</table>
<p>If a GATT client requests a write of a characteristic that was added by the AP, the SNP GATT server will forward an <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga5157ba201b0e88023bec3003170f4039">SNP_CHAR_WRITE_IND</a> (0x88) to the AP.</p>
<p>The AP then has 30 seconds to do the following:</p><ul>
<li>Determine if write is allowed based on application-specific rules</li>
<li>Perform the write using <a class="el" href="group___s_n_p___g_a_t_t.html#ga88a6482340aa54bed5b08d78e2816c19">SNP_setGATTParam</a> or <a class="el" href="group___s_n_p___g_a_t_t.html#ga4377f63586f131e5465437dc963c1afc">SNP_setAttrValue</a></li>
<li>Verify that the write occurred successfully</li>
<li>Send this command back/ <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga04ec97a13d43e9b0cf366311c2a35f47">SNP_CHAR_WRITE_CNF</a> with the appropriate response</li>
</ul>
<p>If no response occurs in 30 seconds, an ATT timeout will occur and BLE connection will be lost.</p>
<dl class="section user"><dt>Corresponding Event</dt><dd><a class="el" href="group___s_n_p___g_a_t_t___r_s_p___i_n_d___l_i_s_t.html#ga5157ba201b0e88023bec3003170f4039">SNP_CHAR_WRITE_IND</a> (from SNP) | <a class="el" href="group___s_n_p___g_a_t_t___c_m_d___l_i_s_t.html#ga04ec97a13d43e9b0cf366311c2a35f47">SNP_CHAR_WRITE_CNF</a> (from AP)</dd></dl>
<dl class="section user"><dt>Payload Structures</dt><dd></dd></dl>
<p>NP -&gt; AP <br />
 <a class="el" href="structsnp_char_write_ind__t.html">snpCharWriteInd_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>2 Byte </td><td>Connection Handle generating request to write </td></tr>
<tr>
<td>2 Byte </td><td>Attribute Handle of Characteristic Value to write to </td></tr>
<tr>
<td>1 Byte </td><td>Indicate if Response is Needed from AP <a class="el" href="group___s_n_p___g_a_t_t___r_s_p___o_p_t_i_o_n_s.html">Options for Response Needed Field</a> </td></tr>
<tr>
<td>2 Byte </td><td>Offset in Bytes </td></tr>
<tr>
<td>X Byte </td><td>Data to write to characteristic </td></tr>
</table>
<p>AP -&gt; NP <br />
 <a class="el" href="structsnp_char_write_cnf__t.html">snpCharWriteCnf_t</a> <br />
</p><table class="doxtable">
<tr>
<th>Size </th><th>Description  </th></tr>
<tr>
<td>1 Byte </td><td>Status <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </td></tr>
<tr>
<td>2 Byte </td><td>Connection Handle Confirmation </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReq</td><td>: Characteristic Write Confirmation Request Structure, <a class="el" href="structsnp_char_write_cnf__t.html">snpCharWriteCnf_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Byte Error Code, <a class="el" href="group___s_n_p___e_r_r_o_r_s.html">list of status generated by the SNP.</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
Copyright  2017, Texas Instruments Incorporated
</small>
</body>
</html>
