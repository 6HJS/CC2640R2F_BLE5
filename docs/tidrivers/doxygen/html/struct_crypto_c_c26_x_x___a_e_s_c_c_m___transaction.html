<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>CryptoCC26XX_AESCCM_Transaction Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">CryptoCC26XX_AESCCM_Transaction Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CryptoCC26XX AES-CCM Transaction.  
 <a href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_crypto_c_c26_x_x_8h_source.html">CryptoCC26XX.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a290d9a7869443690836e17e2540fc369"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_crypto_c_c26_x_x_8h.html#a28465385e5b45efecc00f2015605f970">CryptoCC26XX_Operation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#a290d9a7869443690836e17e2540fc369">opType</a></td></tr>
<tr class="separator:a290d9a7869443690836e17e2540fc369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c6078be481486d0dda9a9ab2685d0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_crypto_c_c26_x_x_8h.html#abf86c8ac428559f00fed3299d439e2cd">CryptoCC26XX_Mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#a47c6078be481486d0dda9a9ab2685d0c">mode</a></td></tr>
<tr class="separator:a47c6078be481486d0dda9a9ab2685d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0eb856eb89478eef0d83a61e52ad435"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#af0eb856eb89478eef0d83a61e52ad435">keyIndex</a></td></tr>
<tr class="separator:af0eb856eb89478eef0d83a61e52ad435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae543053e1c5906db60e8566764e74b22"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#ae543053e1c5906db60e8566764e74b22">authLength</a></td></tr>
<tr class="separator:ae543053e1c5906db60e8566764e74b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad21bc3309b0689f288a8ee27e7a166"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#afad21bc3309b0689f288a8ee27e7a166">nonce</a></td></tr>
<tr class="separator:afad21bc3309b0689f288a8ee27e7a166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14be4d0036174b871b733437fd38361"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#af14be4d0036174b871b733437fd38361">msgIn</a></td></tr>
<tr class="separator:af14be4d0036174b871b733437fd38361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0fd5775305de978e833c66bc7e29c23"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#ab0fd5775305de978e833c66bc7e29c23">header</a></td></tr>
<tr class="separator:ab0fd5775305de978e833c66bc7e29c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75508e70a56c297c0bc4351cd586bfdc"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#a75508e70a56c297c0bc4351cd586bfdc">msgOut</a></td></tr>
<tr class="separator:a75508e70a56c297c0bc4351cd586bfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d848bfae83f3b16e8d3a7e83a1c5694"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#a8d848bfae83f3b16e8d3a7e83a1c5694">fieldLength</a></td></tr>
<tr class="separator:a8d848bfae83f3b16e8d3a7e83a1c5694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29e2771fcf7967303c7a761e23630fc"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#aa29e2771fcf7967303c7a761e23630fc">msgInLength</a></td></tr>
<tr class="separator:aa29e2771fcf7967303c7a761e23630fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e4d04c356e342908588e19011a0e5d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html#a28e4d04c356e342908588e19011a0e5d">headerLength</a></td></tr>
<tr class="separator:a28e4d04c356e342908588e19011a0e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CryptoCC26XX AES-CCM Transaction. </p>
<p>The Counter with CBC-MAC (CCM) mode of operation is a generic authenticated encryption block cipher mode. It can be used with any 128-bit block cipher. AES-CCM combines CBC-MAC with an AES block cipher.</p>
<p>AES-CCM encryption has the following inputs and outputs:</p>
<a class="anchor" id="multi_row"></a>
<table class="doxtable">
<caption>AES-CCM input and output parameters</caption>
<tr>
<th>Encryption</th><th>Decryption </th></tr>
<tr>
<th colspan="2">Input </th></tr>
<tr>
<td>Shared AES key</td><td>Shared AES key </td></tr>
<tr>
<td>Nonce</td><td>Nonce </td></tr>
<tr>
<td>Cleartext</td><td>Ciphertext (encrypted cleartext + MAC) </td></tr>
<tr>
<td>AAD (optional)</td><td>AAD (optional) </td></tr>
<tr>
<th colspan="2">Output </th></tr>
<tr>
<td>Ciphertext (encrypted cleartext + MAC)</td><td>Cleartext </td></tr>
</table>
<p>The AES key is a shared secret between the two parties and has a length of 128 Bit. The key is stored in the dedicated RAM of the AES hardware unit before the crypto operation.</p>
<p>The nonce is generated by the party performing the authenticated encryption operation. Within the scope of any authenticated encryption key, the nonce value must be unique. That is, the set of nonce values used with any given key must not contain any duplicate values. Using the same nonce for two different messages encrypted with the same key destroys the security properties.</p>
<p>The optional AAD is authenticated, but not encrypted. Thus, the AAD is not included in the AES-CCM output. It can be used to authenticate packet headers for transport layer security.</p>
<p>After the encryption operation, the ciphertext contains the encrypted data and the message authentication code (MAC). The MAC can be seen as an encrypted fingerprint of the message header and content.</p>
<p>AES-CCM works in both ways: encryption and decryption. When a message is decrypted, then ciphertext, AAD and nonce are used as inputs while the output comprises the cleartext only. The decryption operation is successful, when the received ciphertext, the nonce and the AAD can reproduce the containing MAC.</p>
<p>The <a class="el" href="struct_crypto_c_c26_x_x___a_e_s_c_c_m___transaction.html" title="CryptoCC26XX AES-CCM Transaction. ">CryptoCC26XX_AESCCM_Transaction</a> structure defines all necessary parameters for a AES-CCM transaction. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a290d9a7869443690836e17e2540fc369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a290d9a7869443690836e17e2540fc369">&sect;&nbsp;</a></span>opType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_crypto_c_c26_x_x_8h.html#a28465385e5b45efecc00f2015605f970">CryptoCC26XX_Operation</a> CryptoCC26XX_AESCCM_Transaction::opType</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The type of the crypto operation </p>

</div>
</div>
<a id="a47c6078be481486d0dda9a9ab2685d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47c6078be481486d0dda9a9ab2685d0c">&sect;&nbsp;</a></span>mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_crypto_c_c26_x_x_8h.html#abf86c8ac428559f00fed3299d439e2cd">CryptoCC26XX_Mode</a> CryptoCC26XX_AESCCM_Transaction::mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The mode of current transaction. Set by transact function. </p>

</div>
</div>
<a id="af0eb856eb89478eef0d83a61e52ad435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0eb856eb89478eef0d83a61e52ad435">&sect;&nbsp;</a></span>keyIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CryptoCC26XX_AESCCM_Transaction::keyIndex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The key store index to be used </p>

</div>
</div>
<a id="ae543053e1c5906db60e8566764e74b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae543053e1c5906db60e8566764e74b22">&sect;&nbsp;</a></span>authLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CryptoCC26XX_AESCCM_Transaction::authLength</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Is the the length of the authentication field 0, 2, 4, 6, 8, 10, 12, 14 or 16 octets. </p>

</div>
</div>
<a id="afad21bc3309b0689f288a8ee27e7a166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afad21bc3309b0689f288a8ee27e7a166">&sect;&nbsp;</a></span>nonce</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* CryptoCC26XX_AESCCM_Transaction::nonce</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to a nonce. It must satisfy the equation 15 = q + n, where q is the fieldLength and n is the length of the nonce.</p>
<p>The minimum size of the array containing the nonce is 12 bytes. When using nonces of length &lt; 12 bytes, the nonce must be zero-padded to 12 bytes. The driverlib implementation in ROM was written with 12 and 13-byte nonces in mind. It constructs the IV's internally and hence copies either 12 or 13 bytes into another buffer. Providing a nonce buffer with less than 12 bytes would result in whatever is after the nonce in memory being incorrectly copied into the IV's.</p>
<p>As long as the correct fieldLength is set for the &lt; 12-bytes nonce, the correct nonce-length will be used.</p>
<p>Valid nonce lengths are {7, 8, 9, 10, 11, 12, 13}. </p>

</div>
</div>
<a id="af14be4d0036174b871b733437fd38361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14be4d0036174b871b733437fd38361">&sect;&nbsp;</a></span>msgIn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* CryptoCC26XX_AESCCM_Transaction::msgIn</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Encryption: A pointer to the octet string input message and after the transaction, the location of the encrypted cleartext. The cleatext is encrypted in place.</li>
<li>Decryption: A pointer to the encrypted ciphertext composed of the encrypted cleartext concatenated with the encrypted message authentication code. </li>
</ul>

</div>
</div>
<a id="ab0fd5775305de978e833c66bc7e29c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0fd5775305de978e833c66bc7e29c23">&sect;&nbsp;</a></span>header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* CryptoCC26XX_AESCCM_Transaction::header</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Additional Authentication Data (AAD). This header is authenticated but not encrypted. </p>

</div>
</div>
<a id="a75508e70a56c297c0bc4351cd586bfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75508e70a56c297c0bc4351cd586bfdc">&sect;&nbsp;</a></span>msgOut</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* CryptoCC26XX_AESCCM_Transaction::msgOut</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to where the encrypted CBC-MAC shall be written to.</p><ul>
<li>Encryption: It is recommended to set this to msgIn + msgInLength. The cyphertext sent out must be the concatenation of the encrypted message and encrypted MAC anyway.</li>
<li>Decyption: Do NOT set msgOut to the same location as the received MAC in the cyphertext within msgIn! Doing this effectively disables verification. </li>
</ul>

</div>
</div>
<a id="a8d848bfae83f3b16e8d3a7e83a1c5694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d848bfae83f3b16e8d3a7e83a1c5694">&sect;&nbsp;</a></span>fieldLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CryptoCC26XX_AESCCM_Transaction::fieldLength</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This parameter specifies the size in bytes of the message length field. (Not the length of the message itself!)</p>
<p>It sets the maximum length of the message according to p &lt; 2^(8*q) where p is the message length and q is the fieldLength.</p>
<p>It must satisfy the equation 15 = q + n where q is the fieldLength and n is the length of the nonce.</p>
<p>Valid values are {2, 3, 4, 5, 6, 7, 8}. </p>

</div>
</div>
<a id="aa29e2771fcf7967303c7a761e23630fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29e2771fcf7967303c7a761e23630fc">&sect;&nbsp;</a></span>msgInLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CryptoCC26XX_AESCCM_Transaction::msgInLength</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Encryption: The length of the cleartext.</li>
<li>Decryption: The length of the ciphertext. </li>
</ul>

</div>
</div>
<a id="a28e4d04c356e342908588e19011a0e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e4d04c356e342908588e19011a0e5d">&sect;&nbsp;</a></span>headerLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CryptoCC26XX_AESCCM_Transaction::headerLength</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The length of the header in octets </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_crypto_c_c26_x_x_8h_source.html">CryptoCC26XX.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
Copyright  2017, Texas Instruments Incorporated
</small>
</body>
</html>
