<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>I2CCC26XX.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2298ed0e5bfee6f293aea6c715ac7f7c.html">exports</a></li><li class="navelem"><a class="el" href="dir_fd93339bedb917e61f14a383cae95c74.html">tidrivers_cc13xx_cc26xx_3_20_01_00</a></li><li class="navelem"><a class="el" href="dir_3b1c21f291b9b5fd65602f608052e36b.html">source</a></li><li class="navelem"><a class="el" href="dir_ea9185700b4a00039b45040cbcc0570b.html">ti</a></li><li class="navelem"><a class="el" href="dir_4df65e1d267425c614acc66379e8abfd.html">drivers</a></li><li class="navelem"><a class="el" href="dir_271a6e15866f5430870ac34ee9c14a1f.html">i2c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">I2CCC26XX.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I2C driver implementation for a CC26XX I2C controller. </p>
<p>============================================================================</p>
<h1>Driver Include</h1>
<p>The I2C header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i2_c_8h.html">ti/drivers/I2C.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_i2_c_c_c26_x_x_8h.html">ti/drivers/i2c/I2CCC26XX.h</a>&gt;</span></div></div><!-- fragment --><p>Refer to <a class="el" href="_i2_c_8h.html">I2C.h</a> for a complete description of APIs.</p>
<h1>Overview</h1>
<p>The general I2C API is normally used in application code, e.g. <a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Initialize a given I2C peripheral as identified by an index value. The I2C_Params structure defines t...">I2C_open()</a> is used instead of I2CCC26XX_open(). The board file will define the device specific config, and casting in the general API will ensure that the correct device specific functions are called. This is also reflected in the example code in <a class="el" href="_i2_c_c_c26_x_x_8h.html#I2C_USE_CASES">Use Cases</a>.</p>
<h2>General Behavior</h2>
<p>Before using the I2C in CC26XX:</p><ul>
<li>The I2C driver is initialized by calling <a class="el" href="_i2_c_8h.html#a9ff51ddf1d325776fef90cce0223772b" title="Initializes the I2C module. ">I2C_init()</a>.</li>
<li>The I2C HW is configured and system dependencies are declared (e.g. IOs, power, etc.) by calling <a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Initialize a given I2C peripheral as identified by an index value. The I2C_Params structure defines t...">I2C_open()</a>.</li>
</ul>
<p>The following is true for receive operation:</p><ul>
<li>RX is enabled by calling <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a>. The readCount of the <a class="el" href="_i2_c_8h.html#adb9098b8bae10ab04381350227058a51" title="I2C transaction. ">I2C_Transaction</a> must be set to a non-zero value.</li>
<li>If the <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> succeeds, the I2C remains enabled.</li>
<li>The application must check the return value from <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> to verify that the transfer succeeded.</li>
</ul>
<p>The following apply for transmit operation:</p><ul>
<li>TX is enabled by calling <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a>. The writeCount of the <a class="el" href="_i2_c_8h.html#adb9098b8bae10ab04381350227058a51" title="I2C transaction. ">I2C_Transaction</a> must be set to a non-zero value.</li>
<li>If the <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> succeeds, the I2C remains enabled.</li>
<li>The application must check the return value from <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> to verify that the transfer succeeded.</li>
</ul>
<p>After I2C operation has ended:</p><ul>
<li>Release system dependencies for I2C by calling <a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Close an I2C peripheral specified by an I2C_Handle. ">I2C_close()</a>.</li>
</ul>
<h2>Error handling</h2>
<p>If an error occurs during operation:</p><ul>
<li>The I2C Master transmits a stop bit and remains enabled.</li>
</ul>
<h2>Power Management</h2>
<p>The I2CCC26XX driver sets a power constraint during transactions to keep the device out of standby; so when all tasks are blocked, the device will enter idle mode instead of standby. When the transactions have finished, the power constraint to prohibit standby is released. The following statements are valid:</p><ul>
<li>After <a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Initialize a given I2C peripheral as identified by an index value. The I2C_Params structure defines t...">I2C_open()</a> call: I2C is enabled, there are no active I2C transactions, the device can enter standby.</li>
<li>After <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> call: active I2C transactions exist, the device might enter idle, but not standby.</li>
<li>When <a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> completes, either after success or error, I2C remains enabled, and the device can enter standby.</li>
<li>After <a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Close an I2C peripheral specified by an I2C_Handle. ">I2C_close()</a> call: I2C is disabled</li>
</ul>
<h2>Supported Functions</h2>
<table class="doxtable">
<tr>
<th>Generic API Function </th><th>API Function </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a9ff51ddf1d325776fef90cce0223772b" title="Initializes the I2C module. ">I2C_init()</a> </td><td>I2CCC26XX_init() </td><td>Initialize I2C driver </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6" title="Initialize a given I2C peripheral as identified by an index value. The I2C_Params structure defines t...">I2C_open()</a> </td><td>I2CCC26XX_open() </td><td>Initialize I2C HW and set system dependencies </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#a12c86d89a687f2ee1eb980d99c32326d" title="Close an I2C peripheral specified by an I2C_Handle. ">I2C_close()</a> </td><td>I2CCC26XX_close() </td><td>Disable I2C HW and release system dependencies </td></tr>
<tr>
<td><a class="el" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7" title="Perform an I2C transaction with an I2C slave peripheral. ">I2C_transfer()</a> </td><td>I2CCC26XX_transfer() </td><td>Start I2C transfer </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>All calls should go through the generic API.</dd></dl>
<h2>Unsupported Functionality</h2>
<p>The CC26XX I2C driver currently does not support:</p><ul>
<li>Multi-master mode</li>
<li>I2C slave mode</li>
</ul>
<h2>Use Cases<a class="anchor" id="I2C_USE_CASES"></a></h2>
<h3>Basic Receive</h3>
<p>Receive 10 bytes over I2C in <a class="el" href="_i2_c_8h.html#aa47ee1c12e45d10f0beb6ed724704dfeabe065350be2a0ae5c9beb24624626c75">I2C_MODE_BLOCKING</a>. </p><div class="fragment"><div class="line"><span class="comment">// Locals</span></div><div class="line"><a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle;</div><div class="line"><a class="code" href="struct_i2_c___params__.html">I2C_Params</a> params;</div><div class="line"><a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> i2cTrans;</div><div class="line">uint8_t rxBuf[32];      <span class="comment">// Receive buffer</span></div><div class="line">uint8_t txBuf[32];      <span class="comment">// Transmit buffer</span></div><div class="line"></div><div class="line"><span class="comment">// Configure I2C parameters.</span></div><div class="line"><a class="code" href="_i2_c_8h.html#ab11636302074d67180207ab81ceb323c">I2C_Params_init</a>(&amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Initialize master I2C transaction structure</span></div><div class="line">i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a3bee82494f85dc33d1229e48a2ec63c8">writeCount</a>   = 0;</div><div class="line">i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a5d9c494aca871ebb272899856e1fa6bb">writeBuf</a>     = txBuf;</div><div class="line">i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a175470cacf5d42b11d505e2196ff6494">readCount</a>    = 10;</div><div class="line">i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#aca335a8f98036308396f27fddeb96f7b">readBuf</a>      = rxBuf;</div><div class="line">i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a09a6dc5d7ab40ed03cb0442feb456889">slaveAddress</a> = 0x3C;</div><div class="line"></div><div class="line"><span class="comment">// Open I2C</span></div><div class="line">handle = <a class="code" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6">I2C_open</a>(Board_I2C, &amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Do I2C transfer receive</span></div><div class="line"><a class="code" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7">I2C_transfer</a>(handle, &amp;i2cTrans);</div></div><!-- fragment --><h3>Basic Transmit</h3>
<p>Transmit 16 bytes over I2C in <a class="el" href="_i2_c_8h.html#aa47ee1c12e45d10f0beb6ed724704dfea129731a7edeb285f43a54b2cf9f5ac72">I2C_MODE_CALLBACK</a>. </p><div class="fragment"><div class="line">uint8_t rxBuffer[32];            <span class="comment">// Receive buffer</span></div><div class="line">uint8_t txBuffer[32];            <span class="comment">// Transmit buffer</span></div><div class="line"><span class="keywordtype">bool</span> transferDone = <span class="keyword">false</span>;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> transferCallback(<a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle, <a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> *transac, <span class="keywordtype">bool</span> result)</div><div class="line">{</div><div class="line">    <span class="comment">// Set length bytes</span></div><div class="line">    <span class="keywordflow">if</span> (result) {</div><div class="line">        transferDone = <span class="keyword">true</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <span class="comment">// Transaction failed, act accordingly...</span></div><div class="line">        .</div><div class="line">        .</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> taskFxn(uintptr_t a0, uintptr_t a1)</div><div class="line">{</div><div class="line">    <span class="comment">// Locals</span></div><div class="line">    <a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle;</div><div class="line">    <a class="code" href="struct_i2_c___params__.html">I2C_Params</a> params;</div><div class="line">    <a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> i2cTrans;</div><div class="line"></div><div class="line">    <span class="comment">// Configure I2C parameters.</span></div><div class="line">    <a class="code" href="_i2_c_8h.html#ab11636302074d67180207ab81ceb323c">I2C_Params_init</a>(&amp;params);</div><div class="line">    params.<a class="code" href="struct_i2_c___params__.html#a1c126475468cfc6ce397a520aea93936">transferMode</a> = <a class="code" href="_i2_c_8h.html#aa47ee1c12e45d10f0beb6ed724704dfea129731a7edeb285f43a54b2cf9f5ac72">I2C_MODE_CALLBACK</a>;</div><div class="line">    params.<a class="code" href="struct_i2_c___params__.html#acd2b2ca0da16c1f017ac32cc4831b31e">transferCallbackFxn</a> = transferCallback;</div><div class="line"></div><div class="line">    <span class="comment">// Prepare data to send, send 0x00, 0x01, 0x02, ...0xFF, 0x00, 0x01...</span></div><div class="line">    <span class="keywordflow">for</span>(uint32_t i = 0; i &lt; numTxBytes; i++)</div><div class="line">        txBuffer[i] = (uint8_t) i;</div><div class="line"></div><div class="line">    <span class="comment">// Initialize master I2C transaction structure</span></div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a3bee82494f85dc33d1229e48a2ec63c8">writeCount</a>   = 16;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a5d9c494aca871ebb272899856e1fa6bb">writeBuf</a>     = txBuffer;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a175470cacf5d42b11d505e2196ff6494">readCount</a>    = 0;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#aca335a8f98036308396f27fddeb96f7b">readBuf</a>      = rxBuffer;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a09a6dc5d7ab40ed03cb0442feb456889">slaveAddress</a> = 0x3C;</div><div class="line"></div><div class="line">    <span class="comment">// Open I2C</span></div><div class="line">    handle = <a class="code" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6">I2C_open</a>(Board_I2C, &amp;params);</div><div class="line"></div><div class="line">    <span class="comment">// Do I2C transfer (in callback mode)</span></div><div class="line">    <a class="code" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7">I2C_transfer</a>(handle, &amp;i2cTrans);</div><div class="line"></div><div class="line">    <span class="comment">// Do other stuff while I2C is handling the transfer</span></div><div class="line">    .</div><div class="line">    .</div><div class="line"></div><div class="line">    <span class="comment">// Do something if I2C transfer is finished</span></div><div class="line">    <span class="keywordflow">if</span>(transferDone) {</div><div class="line">        .</div><div class="line">        .</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Continue...</span></div><div class="line">    .</div><div class="line">    .</div><div class="line">}</div></div><!-- fragment --><h3>Chained Transactions</h3>
<p>Transmit 10 bytes and then 32 bytes over I2C in <a class="el" href="_i2_c_8h.html#aa47ee1c12e45d10f0beb6ed724704dfea129731a7edeb285f43a54b2cf9f5ac72">I2C_MODE_CALLBACK</a>. </p><div class="fragment"><div class="line">uint8_t rxBuffer[32];            <span class="comment">// Receive buffer</span></div><div class="line">uint8_t txBuffer[32];            <span class="comment">// Transmit buffer</span></div><div class="line">uint8_t rxBuffer2[64];           <span class="comment">// Receive buffer 2</span></div><div class="line">uint8_t txBuffer2[64];           <span class="comment">// Transmit buffer 2</span></div><div class="line"><span class="keywordtype">bool</span> transferDone = <span class="keyword">false</span>;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> writeCallbackDefault(<a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle, <a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> *transac, <span class="keywordtype">bool</span> result)</div><div class="line">{</div><div class="line">    <span class="comment">// Set length bytes</span></div><div class="line">    <span class="keywordflow">if</span> (result) {</div><div class="line">        transferDone = <span class="keyword">true</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        <span class="comment">// Transaction failed, act accordingly...</span></div><div class="line">        .</div><div class="line">        .</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> taskFxn(uintptr_t a0, uintptr_t a1)</div><div class="line">{</div><div class="line">    <span class="comment">// Locals</span></div><div class="line">    <a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle;</div><div class="line">    <a class="code" href="struct_i2_c___params__.html">I2C_Params</a> params;</div><div class="line">    <a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> i2cTrans;</div><div class="line">    <a class="code" href="struct_i2_c___transaction__.html">I2C_Transaction</a> i2cTrans2;</div><div class="line"></div><div class="line">    <span class="comment">// Configure I2C parameters.</span></div><div class="line">    <a class="code" href="_i2_c_8h.html#ab11636302074d67180207ab81ceb323c">I2C_Params_init</a>(&amp;params);</div><div class="line">    params.<a class="code" href="struct_i2_c___params__.html#a1c126475468cfc6ce397a520aea93936">transferMode</a> = <a class="code" href="_i2_c_8h.html#aa47ee1c12e45d10f0beb6ed724704dfea129731a7edeb285f43a54b2cf9f5ac72">I2C_MODE_CALLBACK</a>;</div><div class="line">    params.<a class="code" href="struct_i2_c___params__.html#acd2b2ca0da16c1f017ac32cc4831b31e">transferCallbackFxn</a> = writeCallbackDefault;</div><div class="line"></div><div class="line">    <span class="comment">// Prepare data to send, send 0x00, 0x01, 0x02, ...0xFF, 0x00, 0x01...</span></div><div class="line">    <span class="keywordflow">for</span>(uint32_t i = 0; i &lt; numTxBytes; i++)</div><div class="line">        txBuffer[i] = (uint8_t) i;</div><div class="line"></div><div class="line">    <span class="comment">// Initialize first master I2C transaction structure</span></div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a3bee82494f85dc33d1229e48a2ec63c8">writeCount</a>   = 10;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a5d9c494aca871ebb272899856e1fa6bb">writeBuf</a>     = txBuffer;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a175470cacf5d42b11d505e2196ff6494">readCount</a>    = 0;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#aca335a8f98036308396f27fddeb96f7b">readBuf</a>      = rxBuffer;</div><div class="line">    i2cTrans.<a class="code" href="struct_i2_c___transaction__.html#a09a6dc5d7ab40ed03cb0442feb456889">slaveAddress</a> = 0x3C;</div><div class="line"></div><div class="line">    <span class="comment">// Second transaction</span></div><div class="line">    i2cTrans2.<a class="code" href="struct_i2_c___transaction__.html#a3bee82494f85dc33d1229e48a2ec63c8">writeCount</a>   = 32;</div><div class="line">    i2cTrans2.<a class="code" href="struct_i2_c___transaction__.html#a5d9c494aca871ebb272899856e1fa6bb">writeBuf</a>     = txBuffer2;</div><div class="line">    i2cTrans2.<a class="code" href="struct_i2_c___transaction__.html#a175470cacf5d42b11d505e2196ff6494">readCount</a>    = 0;</div><div class="line">    i2cTrans2.<a class="code" href="struct_i2_c___transaction__.html#aca335a8f98036308396f27fddeb96f7b">readBuf</a>      = rxBuffer2;</div><div class="line">    i2cTrans2.<a class="code" href="struct_i2_c___transaction__.html#a09a6dc5d7ab40ed03cb0442feb456889">slaveAddress</a> = 0x2E;</div><div class="line"></div><div class="line">    <span class="comment">// Open I2C</span></div><div class="line">    handle = <a class="code" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6">I2C_open</a>(Board_I2C, &amp;params);</div><div class="line"></div><div class="line">    <span class="comment">// Do chained I2C transfers (in callback mode).</span></div><div class="line">    <a class="code" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7">I2C_transfer</a>(handle, &amp;i2cTrans);</div><div class="line">    <a class="code" href="_i2_c_8h.html#ac5d827b67fe77d7d179026941cc069d7">I2C_transfer</a>(handle, &amp;i2cTrans2);</div><div class="line"></div><div class="line">    <span class="comment">// Do other stuff while I2C is handling the transfers</span></div><div class="line">    .</div><div class="line">    .</div><div class="line"></div><div class="line">    <span class="comment">// Do something if I2C transfers are finished</span></div><div class="line">    <span class="keywordflow">if</span>(transferDone) {</div><div class="line">        .</div><div class="line">        .</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Continue...</span></div><div class="line">    .</div><div class="line">    .</div><div class="line">}</div></div><!-- fragment --><h1>Instrumentation</h1>
<p>The I2C driver interface produces log statements if instrumentation is enabled.</p>
<table class="doxtable">
<tr>
<th>Diagnostics Mask </th><th>Log details  </th></tr>
<tr>
<td>Diags_USER1 </td><td>basic I2C operations performed </td></tr>
<tr>
<td>Diags_USER2 </td><td>detailed I2C operations performed </td></tr>
</table>
<hr/>
</div><div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_i2_c_8h_source.html">ti/drivers/I2C.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_p_i_n_c_c26_x_x_8h_source.html">ti/drivers/pin/PINCC26XX.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_power_8h_source.html">ti/drivers/Power.h</a>&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/HwiP.h&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/SwiP.h&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/SemaphoreP.h&gt;</code><br />
</div>
<p><a href="_i2_c_c_c26_x_x_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Pin Configuration.  <a href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Hardware attributes.  <a href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6e087d828c4463de0061d8205b2245d8"><td class="memItemLeft" align="right" valign="top">typedef unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_c_c26_x_x_8h.html#a6e087d828c4463de0061d8205b2245d8">I2CBaseAddrType</a></td></tr>
<tr class="separator:a6e087d828c4463de0061d8205b2245d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92eeee6e19d215804204c4830a82d424"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_c_c26_x_x_8h.html#a92eeee6e19d215804204c4830a82d424">I2CCC26XX_I2CPinCfg</a></td></tr>
<tr class="memdesc:a92eeee6e19d215804204c4830a82d424"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Pin Configuration.  <a href="#a92eeee6e19d215804204c4830a82d424">More...</a><br /></td></tr>
<tr class="separator:a92eeee6e19d215804204c4830a82d424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b33b790b23b7b5317fca113a7fb691"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_c_c26_x_x_8h.html#a84b33b790b23b7b5317fca113a7fb691">I2CCC26XX_HWAttrsV1</a></td></tr>
<tr class="memdesc:a84b33b790b23b7b5317fca113a7fb691"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2CCC26XX Hardware attributes.  <a href="#a84b33b790b23b7b5317fca113a7fb691">More...</a><br /></td></tr>
<tr class="separator:a84b33b790b23b7b5317fca113a7fb691"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6fb66ad0052e9ab9d1c1b65b8276fc61"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="_i2_c_8h.html#a58fd875c3596b3856b6f1aebbceb3085">I2C_FxnTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_c_c26_x_x_8h.html#a6fb66ad0052e9ab9d1c1b65b8276fc61">I2CCC26XX_fxnTable</a></td></tr>
<tr class="separator:a6fb66ad0052e9ab9d1c1b65b8276fc61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6e087d828c4463de0061d8205b2245d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e087d828c4463de0061d8205b2245d8">&sect;&nbsp;</a></span>I2CBaseAddrType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned long <a class="el" href="_i2_c_c_c26_x_x_8h.html#a6e087d828c4463de0061d8205b2245d8">I2CBaseAddrType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>I2C Base Address type. </p>

</div>
</div>
<a id="a92eeee6e19d215804204c4830a82d424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92eeee6e19d215804204c4830a82d424">&sect;&nbsp;</a></span>I2CCC26XX_I2CPinCfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a>  <a class="el" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2CCC26XX Pin Configuration. </p>
<p>Pin configuration that holds non-default pins. The default pin configuration is typically defined in <a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html" title="I2CCC26XX Hardware attributes. ">I2CCC26XX_HWAttrsV1</a> placed in the board file. The pin configuration structure is used by setting the custom void pointer in the <a class="el" href="_i2_c_8h.html#a98d59fc71988958e7025a17307ada749" title="I2C Parameters. ">I2C_Params</a> to point to this struct. If the custom void pointer is NULL, the <a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html" title="I2CCC26XX Hardware attributes. ">I2CCC26XX_HWAttrsV1</a> pin mapping will be used. </p><div class="fragment"><div class="line"><a class="code" href="struct_i2_c___config__.html">I2C_Handle</a> handle;</div><div class="line"><a class="code" href="struct_i2_c___params__.html">I2C_Params</a> i2cParams;</div><div class="line"><a class="code" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html">I2CCC26XX_I2CPinCfg</a> pinCfg;</div><div class="line"></div><div class="line"><a class="code" href="_i2_c_8h.html#ab11636302074d67180207ab81ceb323c">I2C_Params_init</a>(&amp;i2cParams);     <span class="comment">// sets custom to NULL</span></div><div class="line">pinCfg.<a class="code" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html#a07155d4bf6fac9ed7181eca65563e2c9">pinSDA</a> = Board_I2C0_SDA1;</div><div class="line">pinCfg.<a class="code" href="struct_i2_c_c_c26_x_x___i2_c_pin_cfg.html#af6a6d421ac74746b80065a3e9de338d6">pinSCL</a> = Board_I2C0_SCL1;</div><div class="line">i2cParams.<a class="code" href="struct_i2_c___params__.html#ac44da2d70d79ffa122d791b37864d457">custom</a> = &amp;pinCfg;</div><div class="line"></div><div class="line">handle = <a class="code" href="_i2_c_8h.html#a2db3461e1e956d9b86af414da2fb05f6">I2C_open</a>(Board_I2C, &amp;i2cParams);</div></div><!-- fragment --> 
</div>
</div>
<a id="a84b33b790b23b7b5317fca113a7fb691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b33b790b23b7b5317fca113a7fb691">&sect;&nbsp;</a></span>I2CCC26XX_HWAttrsV1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a>  <a class="el" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2CCC26XX Hardware attributes. </p>
<p>The baseAddr and intNum fields define the base address and the interrupt number of the I2C peripheral. These values are passed to driverlib APIs and therefore must be populated by driverlib macro definitions. These macros are found in the header files:</p><ul>
<li>inc/hw_memmap.h</li>
<li>inc/hw_ints.h</li>
</ul>
<p>The powerMngrId is the Power driver resource ID for the I2C peripheral. These macros are defined in <a class="el" href="_power_c_c26_x_x_8h.html" title="Power manager interface for CC26XX/CC13XX. ">PowerCC26XX.h</a></p>
<p>intPriority is the I2C peripheral's interrupt priority, as defined by the TI-RTOS kernel. This value is passed unmodified to Hwi_create().</p>
<p>swiPriority is the priority of a TI-RTOS kernel Swi that the I2C driver creates to finalize I2C transfers. See the documentation for the ti.sysbios.knl.Swi module for a description of Swi priorities.</p>
<p>sdaPin and sclPin define the SDA and SCL pin mapping, respectively. These are typically defined with a macro in a header file, which maps to an IOID. For example, CC1350_LAUNCHXL.h defines BOARD_I2C0_SDA0 to be IOID_5.</p>
<p>A sample structure is shown below: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html">I2CCC26XX_HWAttrsV1</a> i2cCC26xxHWAttrs[CC1350_LAUNCHXL_I2CCOUNT] = {</div><div class="line">    {</div><div class="line">        .<a class="code" href="struct_i2_c_c_c26_x_x___h_w_attrs_v1.html#a1dcaf2c98df0688a137d6d36fcf5b813">baseAddr</a> = I2C0_BASE,</div><div class="line">        .powerMngrId = <a class="code" href="_power_c_c26_x_x_8h.html#a1637c7e9df94ea4619c8c72594071b92">PowerCC26XX_PERIPH_I2C0</a>,</div><div class="line">        .intNum = INT_I2C_IRQ,</div><div class="line">        .intPriority = ~0,</div><div class="line">        .swiPriority = 0,</div><div class="line">        .sdaPin = Board_I2C0_SDA0,</div><div class="line">        .sclPin = Board_I2C0_SCL0,</div><div class="line">    },</div><div class="line">};</div></div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6fb66ad0052e9ab9d1c1b65b8276fc61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb66ad0052e9ab9d1c1b65b8276fc61">&sect;&nbsp;</a></span>I2CCC26XX_fxnTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="_i2_c_8h.html#a58fd875c3596b3856b6f1aebbceb3085">I2C_FxnTable</a> I2CCC26XX_fxnTable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
Copyright  2017, Texas Instruments Incorporated
</small>
</body>
</html>
