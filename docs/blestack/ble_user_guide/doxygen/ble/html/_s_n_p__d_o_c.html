<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TI BLE-Stack for Bluetooth 4.2 API Documentation: Simple Network Processor (SNP)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TI BLE-Stack for Bluetooth 4.2 API Documentation
   &#160;<span id="projectnumber">3.01.00.05</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Simple Network Processor (SNP) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Overview</h1>
<p>This SDK provides the Host Test application. This allows an application processor to create a full featured BLE piconet in any roles. This requires knowledge of the BLE protocol and the TI BLE-Stack and it's related HCI commands.</p>
<p>There is a need to provide a simplified version of this network processor to quickly and easily create a BLE device, without advanced knowledge of the TI BLE stack or BLE protocol. This version, Simple Network Processor, is limited in term of number of supported features and flexibility. Future versions of SNP will have additional features and flexibility.</p>
<p>For fully featured network processor, the current ‘Host Test’ network processor needs to be used.</p>
<h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>In this document, the term Application Processor or AP references the MCU that will drive the network processor. The term NP (and SNP) references the Network Processor (or the simple network processor).</p>
<p>In order to simplify, some limitations needed to be applied, and some configuration parameters needed to be frozen.</p>
<p>The SNP is configured to act only as a peripheral and broadcaster GAP roles. This implies that the device can only advertise, accept/reject connection, but not discover devices or initiate a connection. Check the software developer's guide for more information.</p>
<p>For the first version, the SNP will not support security, privacy features (but still be able to be connected another private device) and only public address will be used.</p>
<p>The SNP will embed a GATT server to manage all wanted services and their characteristics. Characteristics values for a service are managed by the AP for this version. Future versions may enable a hybrid mode where some characteristic values can be managed by the AP or the NP. The NP will provide predefine services where the characteristic are manage entirely by the NP (like Device Information Service). The number of predefined service will grow in future release.</p>
<p>The transport layer protocol is not based on the HCI protocol has defined in the BT core specification. It is based on the TI universal NPI framework. HCI command can be encapsulated in a NPI frame if HCI commands need to be sent to the NP (not all HCI commands will be available).</p>
<h2><a class="anchor" id="features"></a>
List of functionalities</h2>
<p>The AP is can command the NP to do the following:</p>
<p>Advertisement:</p><ul>
<li>Start advertisement with specific type and specific data (connectable, non-connectable, broadcast), with specific behavior (interval, duration, auto restart after connection or disconnection)</li>
<li>Update advertisement data (for connected mode and non-connected mode).</li>
<li>Update scanning response data.</li>
</ul>
<p>Connection:</p><ul>
<li>Disconnect.</li>
<li>Event when connected/disconnected.</li>
<li>Update connection parameter update.</li>
<li>Event generated when GAP state change.</li>
</ul>
<p>GAP Role profile management:</p><ul>
<li>Peripheral role entirely managed by the NP.</li>
<li>Advertisement role managed by the NP.</li>
<li>Single connection.</li>
<li>MTU size managed and pre-defined by the NP (if MTU size change, an indication will be send to the AP). Default MTU size is 27 (per spec), maximum is 251.</li>
</ul>
<p>Services:</p><ul>
<li>All services are managed by GATT server in the NP.</li>
<li>Some Services are automatically define at startup:<ul>
<li>GAP and GATT service</li>
<li>Device info service.</li>
</ul>
</li>
<li>Other services are defined/declare by the AP at startup, along with their characteristics.</li>
<li>Services cannot be updated/added/modified once they have been created.</li>
<li>Services cannot be updated/added/modified once the device has started.</li>
<li>Once service and characteristics are added and registered, the service handles range is return.</li>
<li>CCCD needs to be managed by the AP. The AP is responsible to remember which client has enable notification and/or indication, and send them accordingly.</li>
<li>The AP has to manage characteristic value itself:<ul>
<li>An event is generated when a GATT client performs a READ on a characteristic. The AP is responsible to send the response in less than 30s. The event contains which characteristic handle is being access.</li>
<li>An event is generated when a GATT client performs a WRITE on a characteristic. The AP is responsible to send the response in less than 30s.</li>
</ul>
</li>
<li>A notification or indication on a characteristic is done by the AP.</li>
</ul>
<p>Profiles:</p><ul>
<li>Profiles linked to predefined services are managed by the NP: -GAT_GATT service -Device info service</li>
<li>access to the characteristic value of those service is done through some specific API</li>
<li>All other profiles need to be managed by the AP.</li>
</ul>
<h2><a class="anchor" id="limitation"></a>
version 1.0 limitation:</h2>
<ul>
<li>No NV storage.</li>
<li>No direct advertisement.</li>
<li>ATT_MTU_SIZE is set to have a maximum size of 251 Bytes.</li>
<li>ATT read multiple requests is not supported (ATT_READ_MULTI_REQ).</li>
<li>Filtering (white list, etc.) is not supported.</li>
<li>The NP is built with GATT_NO_SERVICE_CHANGED enable, meaning service cannot be change/added/modified once the device has started.</li>
<li>L2CAP is not enabled.</li>
<li>GAP bond manager is not enabled.</li>
<li>Only 4.0 LL option are enabled. (4.1 options are disabled).</li>
<li>User description attributes are read only (cannot be write/updated remotely by GATT client). </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
Copyright  2017, Texas Instruments Incorporated
</small>
</body>
</html>
